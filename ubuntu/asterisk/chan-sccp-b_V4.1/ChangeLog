2013-05-02  ddegroot

	* [r4601] src/sccp_actions.c: Fix compile warning about device
	  being used uninitalized (Reported by Holger Hornung)

	* [r4600] src/sccp_channel.c: Fix transfer with
	  local_channel->state = PROGRESS (Provided by Niklas Larsson)

	* [r4599] src/sccp_socket.c: Fix debug statement in sccp_socket.c:
	  sccp_process_data

	* [r4598] autoconf/acinclude.m4, autoconf/extra.m4, configure,
	  configure.ac: Fix --with-astmoddir configure option (By request:
	  Marcello)

	* [r4597] autoconf/acinclude.m4, autoconf/extra.m4, configure:
	  Update --with-astmoddir configure option (By request: Marcello)

	* [r4596] src/sccp_socket.c: Adapt sccp_socket_: sccp_process_data
	  to handle DynamicUpdateCapabilitiesMessage correctly (Holger
	  Hornung)

	* [r4595] autoconf/acinclude.m4, autoconf/extra.m4, configure:
	  Removed --with-callweaver option from configure. Added ppc64 to
	  astmoddir setting using /usr/lib64 if it exists.

	* [r4594] ChangeLog, autoconf/extra.m4, configure: Added
	  --with-astmoddir configure option (By request: Marcello)

	* [r4593] src/sccp_protocol.h: Extended
	  DynamicUpdateCapabilitiesMessage to fix length (Holger Hornung)

	* [r4592] src/sccp_protocol.h: Extended
	  DynamicUpdateCapabilitiesMessage to fix length (Holger Hornung)

	* [r4591] src/sccp_protocol.h: Extended
	  DynamicUpdateCapabilitiesMessage to fix length

	* [r4590] src/sccp_protocol.h: Replaced Unknown_0x0044_Message by
	  DynamicUpdateCapabilitiesMessage (Follows previous
	  UpdateCapabilitiesMessage exactly)

2013-05-01  ddegroot

	* [r4589] doc/10_What_Is_Chan_SCCP.doc: Update What is SCCP doc

2013-04-28  ddegroot

	* [r4588] src/sccp_device.c: Added hold, transfer, conference and
	  redial buttons for 8941 phones

	* [r4587] src/sccp_protocol.h: Extended capture of 0x0044 SPCP
	  message (Thanks to Holger)

	* [r4586] src/sccp_protocol.h: Added first capture of 0x0044 SPCP
	  message (Thanks to Holger)

2013-04-26  ddegroot

	* [r4585] src/sccp_actions.c: Renamed d -> device / added single
	  exit point for tokenAck / register functions. No change in
	  handling.

	* [r4584] src/sccp_device.c: Fix number of buttons on 8941
	  (https://sourceforge.net/p/chan-sccp-b/bugs/181)

	* [r4583] src/sccp_socket.c: Fix newPacketSize when it equals
	  SCCP_MAX_PACKET (https://sourceforge.net/p/chan-sccp-b/bugs/181)

2013-04-25  ddegroot

	* [r4582] src/sccp_conference.c, src/sccp_features.c: Fix
	  pbx_channel_unref in conference und pickup

	* [r4581] src/sccp_protocol.h: Added dummy message 0x0044 as
	  unknown (https://sourceforge.net/p/chan-sccp-b/bugs/181)

	* [r4580] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_event.c, src/sccp_hint.c, src/sccp_refcount.c,
	  src/sccp_refcount.h: Module unload /
	  SCCP_TIME_TO_KEEP_REFCOUNTEDOBJECT (fixes #106)

2013-04-23  ddegroot

	* [r4579] src/sccp_protocol.c: Updated
	  sendUserToDeviceDataVersion1Message

	* [r4578] src/chan_sccp.h, src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Reduced the ConfList Message size, to cram
	  in as much information as possible

	* [r4577] src/sccp_conference.c: Prevent UserToDevice messages
	  larger than 2048 being to old protocol devices (which would cause
	  a buffer overflow and a subsequent full reset of the device
	  (Reported by Alena Juk))

2013-04-22  ddegroot

	* [r4576] src/sccp_refcount.c: Added sched_yield during refcount
	  object removal, to allow other threads to finish their work
	  before cleaning out the object

2013-04-20  ddegroot

	* [r4575] src/pbx_impl/ast/astTrunk.c: Changing scheduled
	  (SCCP_TIME_TO_KEEP_REFCOUNTEDOBJECT * 10) to
	  (SCCP_TIME_TO_KEEP_REFCOUNTEDOBJECT * 3) for astTrunk only (for
	  now).

	* [r4574] autoconf/asterisk.m4, configure,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_config.c: Latest
	  asterisk-trunk version removed the
	  'ast_enable_distributed_devstate' command, added a test for it to
	  configure and escaped this code in sccp_config.c. From reading
	  the asterisk sources, i am assuming that distributed devstate is
	  now always enabled (possibly when res_jabber or res_ais is
	  loaded).

2013-04-18  marcelloceschia

	* [r4573] src/sccp_socket.c: fix segmentation fault after global ip
	  reject, cloese #105

2013-04-16  ddegroot

	* [r4572] src/pbx_impl/ast/ast.h: commented out REF_DEBUG

	* [r4571] src/pbx_impl/ast/ast.h, src/sccp_actions.c,
	  src/sccp_socket.c: Fix for realtime devices (as per request by
	  Marcello).

2013-04-16  marcelloceschia

	* [r4570] conf/sccp.conf.annotated: add a default line example

2013-04-15  ddegroot

	* [r4569] src/sccp_socket.c: Extended logging on 'poll returned 0,
	  errno Success' to include device->id and ip-address

2013-04-14  ddegroot

	* [r4568] ChangeLog, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_utils.c, src/sccp_utils.h: Moved the
	  sccp_...._find functions from sccp_utils to the appropriate
	  locations

	* [r4567] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_utils.h: Fix sccp_line_find_byname change

	* [r4566] src/chan_sccp.c, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_device.c, src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_management.c, src/sccp_mwi.c,
	  src/sccp_softkeys.c, src/sccp_utils.c, src/sccp_utils.h: Removed
	  sccp_line_find_realtime_byname. Renamed
	  sccp_line_find_realtime_byname_wo to
	  sccp_line_find_realtime_byname. Updated all function calls to
	  sccp_line_find_realtime_byname to include realtime (TRUE/FALSE).
	  Updated all function calls to sccp_line_find_realtime_byname_wo
	  to use sccp_line_find_realtime_byname instead.

	* [r4565] src/sccp_conference.c: Fix conference compilation against
	  asterisk-1.6.2 (connected line update).

	* [r4564] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.h: Sync cli
	  macro's for all version (removed alloca in astTrunk 3 weeks ago,
	  without negative side effects)

2013-04-11  ddegroot

	* [r4563] src/sccp_config.c: Using GETSIZE to generate a unique
	  l->id instead of copying l->name if it was not provided in
	  sccp.conf

	* [r4562] src/chan_sccp.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config.h: Force update when switching config files using
	  sccp reload [...]

	* [r4561] src/chan_sccp.c, src/sccp_config.c, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_utils.c: Update/Cleanup
	  sccp_line_addToGlobals

2013-04-11  marcelloceschia

	* [r4560] src/sccp_pbx.c: fixes device refcount issue, cloese #100

2013-04-10  marcelloceschia

	* [r4559] src/sccp_conference.c: fixes conference issue

2013-04-10  ddegroot

	* [r4558] src/sccp_config.c, src/sccp_line.c, src/sccp_utils.c:
	  Revert changes to sccp_line_addToGlobals

2013-04-09  marcelloceschia

	* [r4557] src/sccp_socket.c: fixes session unlock

2013-04-09  ddegroot

	* [r4556] src/sccp_config.c, src/sccp_utils.c: Update flow to use
	  sccp_line_addToGlobals

	* [r4555] src/sccp_line.c: Revised sccp_line_addToGlobals to have a
	  single exit point and auto release new line that was going to be
	  added, if it was already found in the globals list

	* [r4554] src/sccp_indicate.c: cleanup return from sccp_indicate.c

	* [r4553] src/sccp_line.c: Fix module line destroy

	* [r4552] src/sccp_line.c: Fixing refcount when sccp reload for
	  changes in line cid_name / label

	* [r4551] src/sccp_hint.c: Wenn release retained device in a
	  safe_loop, no need to retain a reference around it (we are
	  releasing one remember) (saving multiple useless retain/releases)

	* [r4550] src/sccp_cli.c: We reloading using a different file, no
	  need to check file changed status

	* [r4549] src/sccp_device.c, src/sccp_line.c: Fixing sccp reload
	  for changes in line cid_name / label (one down, one to go)

2013-04-08  ddegroot

	* [r4548] src/sccp_channel.c: Fix transfer cleanup mistake
	  (reported by Alena/Leonid)

2013-04-07  ddegroot

	* [r4547] src/sccp_indicate.c: Fix refcount issue in sccp_indicate
	  (returning without release) (Thanks Pavel).

	* [r4546] src/sccp_line.c: Cleanup / Refactor of sccp_line.c

	* [r4545] src/sccp_device.c, src/sccp_device.h, src/sccp_lock.h:
	  Cleanup / Refactor of sccp_device.c

2013-04-06  ddegroot

	* [r4544] src/sccp_channel.c: Cleanup / Refactor of sccp_channel.c

	* [r4543] src/sccp_channel.c: Enabled WITHREF for experimental mode
	  only (Mute/Unmute Conference Partitipant to test)

	* [r4542] src/sccp_channel.c, src/sccp_refcount.h: Added some debug
	  output to WITHREF macro's for testing purposes

	* [r4541] src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_refcount.h: Added some debug output to WITHREF macro's
	  for testing purposes

	* [r4540] src/sccp_channel.c: Show WITHREF/GETWITHREF solution

	* [r4539] src/sccp_channel.c, src/sccp_refcount.h: Show
	  WITHREF/GETWITHREF solution

	* [r4538] src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_line.c,
	  src/sccp_line.h: Sorted header by type of function. Removed local
	  implementation of sccp_channel_retain/sccp_channel_release

	* [r4537] src/sccp_utils.c, src/sccp_utils.h: Remove unused
	  function array2str

2013-04-05  marcelloceschia

	* [r4536] src/pbx_impl/ast/astTrunk.c: fixes warnings

	* [r4535] src/pbx_impl/ast/astTrunk.c: fixes posible refcount issue
	  in sccp_wrapper_recvdigit_end

	* [r4534] src/pbx_impl/ast/astTrunk.c: fixes posible refcount issue
	  in sccp_wrapper_asterisk111_rtpBridge

	* [r4533] src/pbx_impl/ast/ast.c: fixes refcount issue in
	  sccp_asterisk_pbx_fktChannelWrite

	* [r4532] src/pbx_impl/ast/ast.c: fixes refcount issue in
	  sccp_asterisk_pbx_fktChannelWrite

2013-04-05  ddegroot

	* [r4531] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Copied
	  loading order from astTrunk to other versions, so that
	  chan-sccp-b is loaded later, and dialplan warnings should be
	  reduced

	* [r4530] src/pbx_impl/ast/astTrunk.h: Remove unnecessary call to
	  strdupa. Pointer to astman_get_header should suffice (Needs to be
	  copied to previous implementation when no side effects are noted)

	* [r4529] src/sccp_cli.c: Use provided argv[2] instead of calling
	  astman_get_header again

	* [r4528] src/sccp_utils.h: Use gnu strdupa if available

	* [r4527] src/sccp_config.c, src/sccp_config.h: Fixing possible
	  null-pointer dereferences / Removed unnecessary retain/release

	* [r4526] src/sccp_utils.c: Fixing free issue on return from
	  re-alloc

	* [r4525] src/sccp_conference.c: Fixing possible null-pointer
	  dereferences

	* [r4524] src/sccp_socket.c: Fixing possible null-pointer
	  dereferences

2013-04-04  marcelloceschia

	* [r4523] src/sccp_cli.c: rename sccp_set_hold, add backgroundImage

	* [r4522] src/sccp_config_entries.h: cleanup
	  SCCP_CONFIG_NOUPDATENEEDED

	* [r4521] src/sccp_cli.c: tests with set functions

	* [r4520] src/sccp_utils.c: apply default configuration for
	  realtime devices

	* [r4519] src/sccp_config.c, src/sccp_config.h: splitt
	  applyDeviceConfiguration and applyDeviceDefaults

2013-04-04  ddegroot

	* [r4518] src/sccp_cli.c: Renamed some of the completer properties

	* [r4517] src/sccp_config_entries.h: Update sccp_config_entries for
	  softkeyset (not really used yet)

	* [r4516] src/sccp_cli.c: Renamed some of the completer properties

2013-04-04  marcelloceschia

	* [r4515] src/sccp_device.c: fixes xml messages

	* [r4514] src/sccp_cli.c, src/sccp_cli.h: some test with set
	  function

	* [r4513] src/sccp_cli.c: some test with set function

2013-04-03  ddegroot

	* [r4512] src/sccp_features.c: Quick/Ugly fix for missing
	  ast_do_pickup (Reported by Dmity)

2013-04-02  ddegroot

	* [r4511] src/pbx_impl/ast/ast110.c: Fixing park issue for
	  asterisk-10-branch (Reported and tested by Mark Lemmo)

2013-03-30  marcelloceschia

	* [r4510] src/sccp_actions.c, src/sccp_device.c: move videomode and
	  join default set to action

2013-03-29  ddegroot

	* [r4509] src/pbx_impl/ast/ast.c: Added deprecation to unused
	  functions in ast.c

	* [r4508] src/sccp_config.c, src/sccp_config_entries.h: Suppress
	  warning about empty context (deprecated: pickupexten). Add
	  logging output for subscriptionId.

2013-03-28  ddegroot

	* [r4507] src/pbx_impl/ast/ast.c, src/sccp_conference.c: Fix
	  compilation on asterisk-10

2013-03-28  marcelloceschia

	* [r4506] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h: kill tech
	  for asterisk, used after hangup

	* [r4505] src/sccp_conference.c: fixes compile issue with asterisk
	  < 11

2013-03-27  ddegroot

	* [r4504] src/sccp_rtp.c: Remove device dependency completely by
	  using c->currentDeviceId (Related to destroying rtp server fix)

2013-03-27  marcelloceschia

	* [r4503] src/sccp_rtp.c: do not check for device whe destroying
	  rtp server

	* [r4502] src/sccp_conference.c: workaround to update other channel
	  as well

	* [r4501] src/sccp_conference.c: workaround to update other channel
	  as well

2013-03-27  ddegroot

	* [r4500] src/sccp_conference.c: Fix setting confstr

	* [r4499] src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_features.c: Using the right way
	  to set the conference callerid (Thanks Marcello)

2013-03-27  marcelloceschia

	* [r4498] src/sccp_management.c: references #97;

	* [r4497] src/sccp_management.c: fixes continuous cores on
	  register, when device uses button=feature,x,cfwdall; fixes #97;

2013-03-26  ddegroot

	* [r4496] src/chan_sccp.h, src/sccp_appfunctions.c: Fix
	  sccp_appfunctions.c (Ticket: #177)

	* [r4495] src/sccp_actions.c: Added interesting last alarm messages

	* [r4494] src/sccp_actions.c: Set phone_ip during register

	* [r4493] src/sccp_appfunctions.c: Updated sccp_appfunctions to
	  include the same information. To save reported ip address of the
	  phone, phone_sin was added to the session.

	* [r4492] src/sccp_actions.c: Reverted accidental update of
	  sccp_actions.c.

	* [r4491] src/sccp_actions.c: Updated sccp_appfunctions to include
	  the same information. To save reported ip address of the phone,
	  phone_sin was added to the session.

	* [r4490] doc/35_How_To.doc: Updated acf_channel_read/ CHANNEL
	  documentation. Updated SCCPDEVICE / SCCPCHANNEL documentation.

	* [r4489] src/chan_sccp.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Update acf_channel_read function to
	  include recvip/peerip/agentname/from (moved the implementation to
	  ast.c (same for all asterisk versions). Updated sccp_appfunctions
	  to include the same information. To save reported ip address of
	  the phone, phone_sin was added to the session.

2013-03-25  ddegroot

	* [r4488] src/sccp_channel.c: Update blind transfer patch
	  (CS_EXPERIMENTAL)

	* [r4487] src/sccp_management.c: Referencing the wrong event data /
	  Added checks for linedevice, which does not always have to
	  provided

	* [r4486] src/pbx_impl/ast/ast110.c, src/sccp_management.c:
	  Correcting asterisk-10 version mistake while setting
	  originalCalledparty

2013-03-25  marcelloceschia

	* [r4485] src/pbx_impl/ast/ast108.c: asterisk 1.8 does not have a
	  orig field in ast_party_redirecting, use from instead

	* [r4484] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  fixes wrong redirecting check

2013-03-25  ddegroot

	* [r4483] conf/sccp.conf.annotated: Show useRedialMenu (Advanced
	  Option) in the sccp.conf.annotated file

2013-03-25  marcelloceschia

	* [r4482] src/pbx_impl/ast/astTrunk.c: fixes wrong redirecting
	  check

2013-03-25  ddegroot

	* [r4481] doc/35_How_To.doc: SetSCCPCodec Deprecated. Instead use
	  'Set(CHANNEL(codec)=alaw)'.

	* [r4480] src/sccp_appfunctions.c: SetSCCPCodec Deprecated. Instead
	  use 'Set(CHANNEL(codec)=alaw)'.

	* [r4479] src/chan_sccp.h, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_protocol.h: Added
	  d->retrieveDeviceCapabilities as a replacement for the
	  sccp_protocol.h table extension

2013-03-25  marcelloceschia

	* [r4478] src/sccp_cli.c: indent

	* [r4477] src/sccp_cli.c: fix compile issue

	* [r4476] src/sccp_cli.c: fix compile issue

	* [r4475] conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql, conf/mysql-v4.sql,
	  conf/mysql-v5.sql, conf/postgres.sql: update database tables for
	  backgroundImage and ringtone

2013-03-24  marcelloceschia

	* [r4474] src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.h, src/sccp_device.c: add device config
	  option backgroundimage and ringtonne

	* [r4473] src/sccp_protocol.h: define StartAnnouncementMessage,
	  StopAnnouncementMessage, AnnouncementFinishMessage

	* [r4472] src/sccp_device.c: add some device function callbacks

	* [r4471] src/chan_sccp.h: add some device function callbacks

2013-03-24  ddegroot

	* [r4470] src/sccp_conference.c: Added CallData URL Reference

	* [r4469] src/sccp_protocol.h: Completed CISCO7985

2013-03-23  marcelloceschia

	* [r4468] src/sccp_protocol.h: fixes #95, missing description for
	  7985; needs to be reviewed by diederik

2013-03-23  ddegroot

	* [r4467] src/sccp_actions.c, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_protocol.h: Started adding
	  conference invite function

	* [r4466] ChangeLog, doc/30_Setup_Guide.doc: Update
	  30_Setup_Guide.doc so that it automatically include the latest
	  conf/sccp.conf sample file

	* [r4465] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, src/chan_sccp.h,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config_entries.h,
	  src/sccp_features.c: Deprecated sccp.conf entries pickupexten,
	  pickupmodeanswer and pickupcontext. They have been replaced by
	  directed_pickup, directed_pickup_context and
	  directed_pickup_modeanswer. Previous config parameters will
	  remain operation for the time being, but will be obsolete in the
	  next version

	* [r4464] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_config_entries.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_pbx.c, src/sccp_softkeys.c: Fix for
	  directpickup (directed pickup)

	* [r4463] src/sccp_protocol.h: Added CS_SCCP_PICKUP aroung
	  PICKUP/GPICKUP in skSet_InUseHint

	* [r4462] src/sccp_actions.c, src/sccp_cli.c, src/sccp_features.c:
	  Fix cli entry for conference. Add debug output to gpickup. Added
	  buttonCount variable to sccp_handle_button_template_req

	* [r4461] src/sccp_pbx.c: Added log output when dialing to a number
	  failed because it does not exist in the dialplan (Always shown)

	* [r4460] src/pbx_impl/ast/astTrunk.c: Change modele load order so
	  we get loaded later on in the pbx boot process

2013-03-23  marcelloceschia

	* [r4459] src/sccp_actions.c: fixes button template configuration
	  for 7931

2013-03-22  ddegroot

	* [r4458] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_conference.c: Added
	  PBX(setPBXChannelLinkedId) to pbx_impl. Replaced linkedid setting
	  in sccp_conference by calling this new function

	* [r4457] src/pbx_impl/ast/define.h, src/sccp_conference.c: Move
	  pbx version specific calls to define.h and remove from
	  sccp_conference

	* [r4456] src/pbx_impl/ast/define.h, src/sccp_conference.c: Added
	  manager events to conference actions

	* [r4455] src/sccp_utils.c, src/sccp_utils.h: Removed explode and
	  implode functions because of side-effects

	* [r4454] src/sccp_actions.c, src/sccp_conference.c: Replaced
	  explode function in sccp_actions.c handle_dtu by sscanf. explode
	  function still had reentrency issues, which caused sccp_log
	  (debug) to be necessary for handle_dtu to work

	* [r4453] src/sccp_cli.c, src/sccp_conference.c,
	  src/sccp_conference.h: Replaced sccp_conference_end cli/ami
	  function by sccp_conference_action, providing 'sccp conference
	  [EndConf | Kick | Mute | Moderator | Invite] ConferenceId
	  [ParticipantId]' functionality for CLI and AMI

	* [r4452] src/sccp_conference.c: Add Promote/Demote to conference
	  (under CS_EXPERIMENTAL). This makes it possible to promote
	  someone else to moderator and then demote yourself, this way
	  multiple moderators can manage a large conference or you can
	  leave a conference without tearing it down.

	* [r4451] src/sccp_config.c: Make sure default value for STRINGPTR
	  is "" wenn parsing defaults (non-issue)

	* [r4450] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Check
	  channel and channel->owner before sending digits

2013-03-21  ddegroot

	* [r4449] src/sccp_appfunctions.c, src/sccp_cli.c: Add conference
	  device settings to sccp_cli / appfunctions output. Add
	  conference_id/conference_participant_id to appfunctions output

	* [r4448] src/sccp_conference.c, src/sccp_features.c: Fix confllist
	  (mute/kick) when last channel has been added using join-feature
	  (reported by Leonid)

	* [r4447] src/sccp_conference.c: Added EndConf Button to conflist
	  menu

	* [r4446] src/sccp_conference.c: Start numbering participant
	  starting at 1 in every new conference

	* [r4445] src/sccp_conference.c: Update conflist on mute

2013-03-21  marcelloceschia

	* [r4444] src/sccp_utils.c: disable warning for linedevice, fixes
	  #83

2013-03-21  ddegroot

	* [r4443] src/sccp_channel.c: Add sample for complete transger on
	  endcall

	* [r4442] src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_pbx.c: Fix conference mute for non-sccp phones (fixes
	  #88)

2013-03-21  marcelloceschia

	* [r4441] src/sccp_utils.c: backport sccp_util_matchSubscriptionId
	  using v3.1 version

2013-03-21  ddegroot

	* [r4440] src/sccp_actions.c, src/sccp_conference.c: Add debug
	  logging to sccp_conference, to find mute issue. Elaborate on
	  error description when open_receive_channel returns status error

	* [r4439] src/sccp_conference.c: Replace conf-enteringno by
	  conf-placeintoconf (fixes #87)

2013-03-21  marcelloceschia

	* [r4438] src/sccp_pbx.c, src/sccp_utils.c: fixes wrong
	  subscriptionId-matching when
	  channel->line->defaultSubscriptionId.number = ''; fixes #85

2013-03-20  marcelloceschia

	* [r4437] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  fixes openreceive channel after call timeout and asterisk prod

2013-03-20  ddegroot

	* [r4436] src/sccp_utils.c: Added new version of
	  sccp_channel_find_on_device_bypassthrupartyid

	* [r4435] src/sccp_appfunctions.c: Updated dnd_state for SCCPDEVICE
	  appfunctions

	* [r4434] src/sccp_appfunctions.c: Added dnd_state, dnd_feature to
	  SCCPDEVICE appfunctions

	* [r4433] src/sccp_socket.c: Replace assert in
	  sccp_socket_addDevice / sccp_socket_removeDevice with if check

	* [r4432] src/sccp_utils.c: Fix line release during
	  sccp_channel_find_on_device_bypassthrupartyid

	* [r4431] src/sccp_device.c: Retest d->session before calling
	  sccp_session_removeDevice.

	* [r4430] src/sccp_device.c: Retest d->session before calling
	  sccp_session_removeDevice.

	* [r4429] src/sccp_socket.c: Replace assert in
	  sccp_socket_addDevice / sccp_socket_removeDevice with if check

2013-03-20  marcelloceschia

	* [r4428] src/sccp_protocol.c: fixes sccp video issue !!!!

2013-03-20  ddegroot

	* [r4427] src/sccp_mwi.c: Fix mwi showing correct number of
	  voicemail messages

2013-03-19  ddegroot

	* [r4426] src/sccp_line.c: Move line->name to line->id copy. Added
	  comment.

	* [r4425] src/sccp_line.c: Copy line->name to line->id when empty

	* [r4424] src/sccp_line.c, src/sccp_pbx.c: Replace use of l->id by
	  l->name

	* [r4423] src/sccp_config.c, src/sccp_config_entries.h: Fix unset
	  line->id (Leonid Korokh)

	* [r4422] src/sccp_config_entries.h: Setting line->id to required
	  for now, pending group decision

	* [r4421] src/sccp_pbx.c: Fix hangup during channel allocate
	  (reported by bob).

	* [r4420] src/sccp_pbx.c: Fix hangup during channel allocate
	  (reported by bob).

	* [r4419] src/sccp_pbx.c: Fixing sccp_pbx_call with DND (Mail:
	  Crash 4.1 RC1 b4415))

2013-03-18  ddegroot

	* [r4418] src/sccp_conference.c: ConfList on older phones does not
	  support AppID in the XML Tag

	* [r4417] src/sccp_conference.c: Lowering the protocol bar for
	  conflist

	* [r4416] src/sccp_conference.c: Fix conflist xml

	* [r4415] src/sccp_device.c: Fix unlocking messageStack, do set
	  oldvalue back to NULL

	* [r4414] src/sccp_device.c, src/sccp_socket.c: Replace assertion
	  with if(s) in sccp_session_removeFromGlobals and
	  sccp_session_addToGlobals

	* [r4413] src/sccp_config_entries.h: Not using value when config
	  parameter has been set to obsolete

	* [r4412] src/sccp_protocol.h: Removing non SCCP devices from
	  sccp_protocol.h :-)

	* [r4411] src/sccp_config_entries.h: Not using value when config
	  parameter has been set to obsolete

2013-03-17  ddegroot

	* [r4410] src/sccp_actions.c: Handle keypad button correctly during
	  connectedconference (fixes #75)

	* [r4409] src/config.h.in: re-ran bootstrap

	* [r4408] src/sccp_conference.c: Updated conflist for high-res
	  displays

	* [r4407] src/sccp_protocol.h: Re-aligned sccp_protocol.h manually

	* [r4406] configure: Updated configure

	* [r4405] src/Makefile.in, src/sccp_protocol.h: Added struct
	  sccp_display_capability. Re-aligned sccp_protocol.h manually

	* [r4404] autoconf/extra.m4, configure, configure.ac,
	  src/Makefile.am, src/Makefile.in: _FORTIFY_SOURCE only enabled
	  when optimizing (openSuSE 12.3) (fixes #72)

	* [r4403] src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_pbx.c: Remove unused function calls from
	  sccp_conference.h

	* [r4402] src/sccp_conference.c: Re-enable conference debug log out
	  put for Hide Conf List

	* [r4401] src/sccp_features.c: Conference can only be joined using
	  an active call

	* [r4400] src/sccp_channel.c, src/sccp_indicate.c: Fix when
	  building --without-conference

	* [r4399] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c, src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_indicate.c: Conference Updates (fixes #67, fixes #66,
	  fixes #65, fixes #63)

	* [r4398] src/sccp_features.c: Put channel on hold before joining
	  (references #66)

2013-03-17  marcelloceschia

	* [r4397] src/sccp_device.c: default disable join button

	* [r4396] src/sccp_conference.c, src/sccp_indicate.c: move
	  sccp_softkey_setSoftkeyState(d, KEYMODE_CONNCONF,
	  SKINNY_LBL_JOIN, FALSE), do not set things in indicate.c

	* [r4395] autoconf/extra.m4: fixes #72

2013-03-17  ddegroot

	* [r4394] src/sccp_indicate.c: Small Fixes part 2

	* [r4393] src/sccp_channel.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_rtp.c: Small Misc Fixes

2013-03-16  ddegroot

	* [r4392] src/sccp_protocol.h: Complete SKINNY_BUTTONTYPE and
	  SKINNY_STIMULUS (fixes #76)

	* [r4391] src/Makefile.in: _FORTIFY_SOURCE on openSuSE12.3 (fixes
	  #72)

	* [r4390] autoconf/extra.m4, configure: _FORTIFY_SOURCE on
	  openSuSE12.3 (fixes #72)

	* [r4389] src/Makefile.am, src/Makefile.in, src/sccp_pbx.c:
	  _FORTIFY_SOURCE on openSuSE12.3 (fixes #72)

	* [r4388] src/sccp_utils.c, src/sccp_utils.h: Unused function.
	  fixes #68

2013-03-16  marcelloceschia

	* [r4387] src/chan_sccp.h: use enum for soft switch action; remove
	  default from switch, to get a warnig when some action is not
	  implemented

	* [r4386] src/Makefile.in, src/chan_sccp.h, src/sccp_pbx.c: use
	  enum for soft switch action; remove default from switch, to get a
	  warnig when some action is not implemented

	* [r4385] src/sccp_pbx.c: fixes 'undefined symbol:
	  sccp_conference_create', references #73, sf:
	  'https://sourceforge.net/p/chan-sccp-b/bugs/176/'

2013-03-16  ddegroot

	* [r4384] src/sccp_pbx.c: Fix compiling without-conference
	  (references #74)

	* [r4383] src/sccp_conference.c, src/sccp_features.c,
	  src/sccp_softkeys.c: Fix compiling against asterisk-1.10
	  (references #74)

2013-03-16  marcelloceschia

	* [r4382] src/sccp_conference.c: fixes compile issue with
	  conference enabled on astTrunk++, closes #74

	* [r4381] src/sccp_conference.c: fixes compile issue with
	  conference enabled on astTrunk++, closes #74

	* [r4380] src/sccp_features.c, src/sccp_features.h, src/sccp_pbx.c,
	  src/sccp_softkeys.c: fixes compile issue when
	  --disable-conference, closes #73

2013-03-15  ddegroot

	* [r4379] src/pbx_impl/ast/astTrunk.c: Removed unused junk

	* [r4378] src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_features.c, src/sccp_features.h, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Start new conference via ss-switch
	  methodology

	* [r4377] src/sccp_actions.c: Handle ConnectedConference during
	  openreceiveack

	* [r4376] src/sccp_channel.c: Handle ConnectedConference Correctly
	  while processing sccp_channel_hold

	* [r4375] src/sccp_indicate.c: Update indicattion handling for
	  ConnectedConference

	* [r4374] src/chan_sccp.c, src/chan_sccp.h: Reindented ast_jb_conf
	  in chan_sccp.c. Adding ss-switch option for
	  SCCP_SS_GETCONFERENCEROOM

	* [r4373] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Adapted
	  conference Audio Patch (by Marcello) for all asterisk versions

2013-03-15  marcelloceschia

	* [r4372] astTrunkConferenceWorkaround.patch: workaround for
	  asterisk 11+ conference issue

	* [r4371] astTrunkConferenceWorkaround.patch: workaround for
	  asterisk 11+ conference issue

	* [r4370] astTrunkConferenceWorkaround.patch[ADD]: workaround for
	  asterisk 11+ conference issue

2013-03-14  ddegroot

	* [r4369] Makefile.in, debian/chan-sccp-b1.dirs,
	  debian/chan-sccp-b1.install, debian/dirs: Update debian packaging
	  (removed lib64)

	* [r4368] Makefile.am, Makefile.in,
	  debian/chan-sccp-b.default.ex[DEL],
	  debian/chan-sccp-b.doc-base.EX[DEL], debian/chan-sccp-b1.dirs,
	  debian/chan-sccp-b1.install, debian/changelog,
	  debian/cron.d.ex[DEL], debian/menu.ex[DEL],
	  debian/postinst.ex[DEL], debian/postrm.ex[DEL],
	  debian/preinst.ex[DEL], debian/prerm.ex[DEL], debian/rules,
	  debian/watch.ex[DEL], doc/Makefile.in: Update debian packaging

2013-03-14  marcelloceschia

	* [r4367] src/sccp_actions.c: fixes unused variable
	  ‘transmitReceiveStr’ when compile without debug

2013-03-13  ddegroot

	* [r4366] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Suppress faulty information

	* [r4365] src/sccp_channel.c, src/sccp_rtp.c: Fix debug output for
	  Tell PBX/Phone. Reentrancy issue with pbx_inet_ntoa

2013-03-13  marcelloceschia

	* [r4364] src/sccp_management.c: fixes #70

2013-03-13  ddegroot

	* [r4363] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Lookup the ip-address of the server
	  incase of INADDR_ANY

	* [r4362] src/sccp_rtp.c, src/sccp_socket.c: Partial Fix s->ourip.
	  Fix debug statement in sccp_rtp.c

	* [r4361] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_features.c, src/sccp_features.h, src/sccp_line.c,
	  src/sccp_management.c, src/sccp_pbx.c, src/sccp_softkeys.c,
	  src/sccp_utils.c: Fix refcount issue in sccp_handle_dialtone.
	  Added linedevice to event->featureChanged. Added linedevice to
	  sccp_feat_changed. Updated callforward functions to call
	  sccp_feat_changed with linedevice.

	* [r4360] src/sccp_management.c: Add DND AMI Command to
	  sccp_managent.c / Update CallForward AMI Command in
	  sccp_management.c

2013-03-13  marcelloceschia

	* [r4359] src/sccp_actions.c: readd
	  01527db2c4d554356a2c6f64bc445d7fc5eb4edc

	* [r4358] src/sccp_actions.c: fixes refcount issue; references #47

	* [r4357] src/sccp_actions.c: fixes refcount issue; references #47

2013-03-13  ddegroot

	* [r4356] src/chan_sccp.c, src/chan_sccp.h, src/sccp_actions.c,
	  src/sccp_socket.c: Replace arbitrary values

	* [r4355] ChangeLog, NEWS, debian/changelog, doc/Makefile.am,
	  doc/Makefile.in: Fix make release

	* [r4354] debian/control, debian/source[ADD],
	  debian/source/format[ADD]: Update debian package files

	* [r4353] autoconf/extra.m4, configure: Fix Fortify_Source Compile
	  Warnings when already provided by the operating system

2013-03-13  marcelloceschia

	* [r4352] src/sccp_featureButton.c: fixes dnd feature buttons

2013-03-12  ddegroot

	* [r4351] autoconf/asterisk.m4, configure: Updated 'Low Memory'
	  Check

	* [r4350] autoconf/asterisk.m4, configure: Changed 'Low Memory'
	  Check

	* [r4349] src/chan_sccp.h: Added escape for SCCP_FILE_VERSION when
	  using on low memory systems

	* [r4348] autoconf/asterisk.m4, configure, src/config.h.in: Added
	  Asterisk compiled with 'Low Memory' Check

2013-03-11  marcelloceschia

	* [r4347] src/sccp_protocol.h: correct 0x015E

2013-03-11  ddegroot

	* [r4346] conf/tftp/SEP0000000000.cnf.xml_791x_template,
	  conf/tftp/SEP0000000000.cnf.xml_796x_template,
	  conf/tftp/SEP0000000000.cnf.xml_797x_template: Reindented cnf.xml
	  files

	* [r4345] conf/tftp/SEP0000000000.cnf.xml_annotated[ADD]: Added
	  annotated cnf.xml file

2013-03-09  marcelloceschia

	* [r4344] src/sccp_indicate.c: indent

2013-03-08  ddegroot

	* [r4343] src/sccp_actions.c: Remove extranous accent

2013-03-08  marcelloceschia

	* [r4342] src/sccp_pbx.c: do not set number for name

	* [r4341] src/sccp_channel.c: reset name/mumber of string is empty

2013-03-08  ddegroot

	* [r4340] doc/00_Index.doc, doc/90_Developers_Guide.doc,
	  doc/99_Licensing.doc[DEL], src/sccp_pbx.c: Fix xhtml doxygen
	  issues

	* [r4339] src/sccp_actions.c: Remove deprecated status from
	  sccp_handle_KeepAliveMessage

	* [r4338] autoconf/extra.m4, configure, doc/chan-sccp-b_pdf.sty,
	  doc/doxygen.cfg: Switch doxygen to producing svg images

	* [r4337] doc/00_Index.doc, doc/10_What_Is_Chan_SCCP.doc,
	  doc/20_Building_and_Installation_Guide.doc,
	  doc/30_Setup_Guide.doc, doc/35_How_To.doc,
	  doc/40_New_Features.doc, doc/50_Frequently_Asked_Questions.doc,
	  doc/55_Reporting_Issues_Problems.doc,
	  doc/60_Supported_Operating_Systems.doc,
	  doc/70_Sources_Explained.doc, doc/80_Consulted_Documentation.doc,
	  doc/90_Developers_Guide.doc, doc/99_Licensing.doc: Fix doxygen
	  warnings

	* [r4336] src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_indicate.c, src/sccp_labels.h,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_refcount.c, src/sccp_rtp.c, src/sccp_socket.c,
	  src/sccp_threadpool.c, src/sccp_utils.c: Removed unused code
	  fragments / remarked out code

	* [r4335] src/sccp_actions.c, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_device.c: Removed unused code
	  fragments / remarked out code

	* [r4334] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_config_entries.h: Removed unused code
	  fragments from the config parser

	* [r4333] src/sccp_lock.h: Remove unused lock macro's

	* [r4332] src/config.h.in, src/sccp_pbx.c, src/sccp_softkeys.c,
	  src/sccp_utils.c: Removed deprecated and unused functions

	* [r4331] autoconf/extra.m4, configure, src/chan_sccp.c,
	  src/chan_sccp.h, src/config.h.in, src/sccp_appfunctions.c,
	  src/sccp_cli.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_line.c, src/sccp_line.h,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_softkeys.h:
	  Removed the --disable-dynamic-config from configure. Removed use
	  of CS_DYNAMIC_CONFIG from sources. Making dynamic config standard

	* [r4330] src/sccp_config.c, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_softkeys.c: Replaced DEBUGCAT_NEWCODE uses.

	* [r4329] .version, ChangeLog, Makefile.in, TODO[DEL],
	  WARNING_USE_BRANCHES_V3.0.txt[DEL],
	  WARNING_USE_BRANCHES_V4.0.txt[DEL], autoconf/extra.m4, configure:
	  Cleanup trunk directory. Update ChangeLog oldest revision

	* [r4328] src/sccp_utils.c: Clarify debug logging on DND status
	  change

	* [r4327] doc/doxygen.cfg: Quiet down doxygen generation

	* [r4326] doc/10_What_Is_Chan_SCCP.doc,
	  doc/20_Building_and_Installation_Guide.doc,
	  doc/30_Setup_Guide.doc, doc/35_How_To.doc,
	  doc/40_New_Features.doc, doc/55_Reporting_Issues_Problems.doc,
	  doc/60_Supported_Operating_Systems.doc,
	  doc/90_Developers_Guide.doc, doc/doxygen.cfg: Cleanup subsections

	* [r4325] src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_config_entries.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_dllists.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.c,
	  src/sccp_lock.h, src/sccp_management.c, src/sccp_management.h,
	  src/sccp_mwi.c, src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.h, src/sccp_refcount.c, src/sccp_refcount.h,
	  src/sccp_rtp.c, src/sccp_rtp.h, src/sccp_socket.c,
	  src/sccp_socket.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_threadpool.c, src/sccp_threadpool.h, src/sccp_utils.h:
	  Re-indented all sources

	* [r4324] ChangeLog, Makefile.in, autoconf/extra.m4, configure,
	  doc/Makefile.in, doc/doxygen.cfg: Update doxygen.cfg

	* [r4323] Makefile.am, Makefile.in, autoconf/extra.m4, configure,
	  doc/Makefile.am, doc/Makefile.in, doc/doxygen.cfg,
	  src/config.h.in: Revert doxygen move to doc/Makefile.am

	* [r4322] Makefile.am, Makefile.in, autoconf/extra.m4, configure,
	  doc/Makefile.am, doc/Makefile.in, doc/doxygen.cfg: Update
	  configure / Update makefile.am

	* [r4321] src/conference[DEL]: Remove conference subdir

	* [r4320] contrib/generate_backtrace[ADD],
	  doc/55_Reporting_Issues_Problems.doc: Update problem reporting /
	  Add backtrace script

2013-03-07  ddegroot

	* [r4319] doc/40_New_Features.doc: Update New Features for V4.1

	* [r4318] ChangeLog, autoconf/extra.m4, configure: Update clang
	  cflags section

	* [r4317] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.h,
	  src/sccp_cli.c, src/sccp_cli_table.h: Exclude part from doxygen

	* [r4316] src/sccp_config.c, src/sccp_hint.c, src/sccp_lock.c,
	  src/sccp_refcount.c: Update doxygen source documentation

	* [r4315] AUTHORS, doc/35_How_To.doc[ADD], doc/40_New_Features.doc,
	  doc/55_Reporting_Issues_Problems.doc,
	  doc/70_Sources_Explained.doc, doc/80_Consulted_Documentation.doc,
	  doc/doxygen.cfg: Updating doxygen directory

	* [r4314] doc/05_New_Features.doc[DEL],
	  doc/07_Frequently_Asked_Questions.doc[DEL],
	  doc/08_Supported_Operating_Systems.doc[DEL],
	  doc/09_Developers_Guide.doc[DEL],
	  doc/10_Sources_Explained.doc[DEL],
	  doc/11_Consulted_Documentation.doc[DEL],
	  doc/13_Licensing.doc[DEL],
	  doc/13_Reporting_Issues_Problems.doc[DEL],
	  doc/40_New_Features.doc[CPY],
	  doc/50_Frequently_Asked_Questions.doc[CPY],
	  doc/55_Reporting_Issues_Problems.doc[CPY],
	  doc/60_Supported_Operating_Systems.doc[CPY],
	  doc/70_Sources_Explained.doc[CPY],
	  doc/80_Consulted_Documentation.doc[CPY],
	  doc/90_Developers_Guide.doc[CPY], doc/99_Licensing.doc[CPY]:
	  Updating doxygen directory

	* [r4313] doc/00_Index.doc[CPY], doc/01_Index.doc[DEL],
	  doc/02_What_Is_Chan_SCCP.doc[DEL],
	  doc/03_Building_and_Installation_Guide.doc[DEL],
	  doc/04_Setup_Guide.doc[DEL], doc/05_Features_V3.doc[DEL],
	  doc/05_New_Features.doc[CPY], doc/06_New_Features.doc[DEL],
	  doc/08_Supported_Operating_Systems.doc,
	  doc/09_Developers_Guide.doc, doc/10_Sources_Explained.doc,
	  doc/10_What_Is_Chan_SCCP.doc[CPY], doc/12_Licensing.doc[DEL],
	  doc/13_Licensing.doc[CPY],
	  doc/20_Building_and_Installation_Guide.doc[CPY],
	  doc/30_Setup_Guide.doc[CPY]: Updateing doxygen directory

	* [r4312] src/Makefile.in, src/common.h, src/sccp_conference.c: Fix
	  paths

	* [r4311] src/Makefile.am, src/conference/sccp_conference10.c[DEL],
	  src/sccp_conference.c[CPY], src/sccp_hint.c[CPY],
	  src/sccp_hint.h[ADD], src/sccp_hint2.c[DEL]: Rename sccp_hint2 to
	  sccp_hint. Move conference/sccp_conference to sccp_conference.
	  Update Makefile.am

	* [r4310] src/sccp_hint.h[DEL]: Removed sccp_hint.c
	  sccp_conference.c (old files)

	* [r4309] src/sccp_hint2.h[DEL]: Removed sccp_hint.c
	  sccp_conference.c (old files)

	* [r4308] src/sccp_conference.c[DEL], src/sccp_hint.c[DEL]: Removed
	  sccp_hint.c sccp_conference.c (old files)

	* [r4307] src/sccp_cli.c: Equalize sccp_cli output columns

	* [r4306] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_actions.c: Fix extensionStatus helper coredump, when
	  channel->owner=NULL (Added check to sccp_handle_keypad_button)

	* [r4305] src/pbx_impl/ast/astTrunk.c: Fixes conference when using
	  asterisk-trunk (fixes #44)

	* [r4304] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  Update codec setting for ast110 and astTrunk (references #44)

	* [r4303] src/conference/sccp_conference10.c: Add function
	  description/documentation to conference

	* [r4302] src/conference/sccp_conference10.c: Fix conference
	  refcount

2013-03-06  ddegroot

	* [r4301] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Fixing
	  conference for asterisk-10. Conference for asterisk-11 still
	  broken (codec issue). Refcount needs fixing (masquerade/zombie).
	  (references #44)

	* [r4300] src/sccp_utils.c: Fix array subscript out of bounds error
	  ing sccp_dump_packet

2013-03-06  marcelloceschia

	* [r4299] src/sccp_protocol.h: add message dummy for 0x015E

2013-03-03  ddegroot

	* [r4298] src/Makefile.am, src/Makefile.in, src/common.h,
	  src/sccp_sockaddr.c[DEL], src/sccp_sockaddr.h[DEL]: Reverted
	  accidental commit of sccp_sockaddr.c

	* [r4297] src/Makefile.am, src/Makefile.in, src/common.h,
	  src/pbx_impl/ast/ast106.c, src/sccp_sockaddr.c[ADD],
	  src/sccp_sockaddr.h[ADD]: Removed requestor dependency in
	  ast106.c -> ALERT_INFO support dropped for this version

2013-03-02  marcelloceschia

	* [r4296] src/sccp_pbx.c: remove ALERT_INFO parsing, remove
	  complexity for dnd and ringermod

	* [r4295] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: parse _ALERT_INFO/__ALERT_INFO during
	  call request

	* [r4294] src/pbx_impl/ast/astTrunk.c: some more comment

	* [r4293] src/pbx_impl/ast/astTrunk.c: parse
	  _ALERT_INFO/__ALERT_INFO during call request

	* [r4292] src/pbx_impl/ast/astTrunk.c: parse
	  _ALERT_INFO/__ALERT_INFO during call request

2013-03-02  ddegroot

	* [r4291] src/sccp_indicate.c, src/sccp_pbx.c: Update/Sent urgent
	  call message even when DND is enabled

	* [r4290] src/sccp_indicate.c: Re-implemented DND override for
	  using ringer=urgent (Request: Andreas Anderon)

	* [r4289] src/sccp_pbx.c: Re-implemented DND override for using
	  ringer=urgent (Request: Andreas Anderon)

2013-02-28  ddegroot

	* [r4288] src/sccp_socket.c: fixes #58 sccp_socket.c

	* [r4287] src/sccp_threadpool.c: fixes #58 sccp_threadpool.c

	* [r4286] src/sccp_config.c: fixes #58 sccp_config.c

	* [r4285] src/sccp_actions.c: fixes #58 sccp_actions.c (suppresses
	  d null deref by checking d first, should never occur though)

	* [r4284] src/sccp_line.c: fixes #58 sccp_line.c

2013-02-27  ddegroot

	* [r4283] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Moved over parsing of
	  StartMultiMediaTransmissionAck to sccp_protocol.c as well.

	* [r4282] src/sccp_actions.c, src/sccp_cli.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Reformatted sources
	  (indent).

	* [r4281] src/sccp_actions.c, src/sccp_cli.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Using unions in messages
	  which have different implementations per protocol version. Added
	  messages parsers to sccp_protocol.c for these messages.

2013-02-26  ddegroot

	* [r4280] src/sccp_channel.c: Fix 'Tell ... to send RTP/UDP media'
	  debug output. Use SCCP_PACKET_HEADER in sccp_build_packet instead
	  of magic value 12

	* [r4279] src/sccp_device.c, src/sccp_rtp.c: Fix 'Tell ... to send
	  RTP/UDP media' debug output. Use SCCP_PACKET_HEADER in
	  sccp_build_packet instead of magic value 12

2013-02-25  ddegroot

	* [r4278] autoconf/extra.m4, configure, src/chan_sccp.h,
	  src/sccp_config.c: Finalizarion/Update/Cleanup for bus-error /
	  unaligned access issue on sparc64 cpu's (Reported by Philippe
	  Teissier)

2013-02-24  ddegroot

	* [r4277] src/sccp_cli.c, src/sccp_management.c: Added patches
	  supplied by Kevin Vandenberg for CLI/AMI Commands

	* [r4276] src/sccp_cli.c: Committed patch supplied by Nicola
	  Ciprich

	* [r4275] src/sccp_cli.c, src/sccp_cli.h: Added device_connected /
	  line_connected completers for sccp_cli.c

	* [r4274] src/sccp_actions.c, src/sccp_protocol.h: Temporariry fix
	  for sccp_handle_open_receive_channel_ack message size, until we
	  have d->protocol->allocMessage(messageId)

	* [r4273] src/sccp_socket.c: Use SCCP_PACKET_HEADER instead of '8',
	  fix printf parameter in sccp_process_data

	* [r4272] src/sccp_line.c: Fix sccp reload, when in previous
	  sccp.conf device was connected to hotline. linedevice needs to be
	  removed for hotline connection and d->isAnonymous needs to be
	  false before running reload.

2013-02-24  marcelloceschia

	* [r4271] src/sccp_socket.c: fixes some whitespaces and error
	  messages

2013-02-24  ddegroot

	* [r4270] src/sccp_channel.c: Fix compile warnings

	* [r4269] src/sccp_channel.c, src/sccp_socket.c: Fix compile
	  warnings

	* [r4268] src/sccp_protocol.h: Fix compile issue for
	  SpeedDialStatDynamicMessage

	* [r4267] src/sccp_actions.c, src/sccp_protocol.h: Researching if
	  OpenReceiveChannelAck_v22 is necessary

	* [r4266] src/chan_sccp.c, src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_protocol.h, src/sccp_socket.c, src/sccp_utils.c,
	  src/sccp_utils.h: Revised sccp_process_data, revised
	  sccp_dump_packet, added struct size to sccp_messagetypes lookup
	  table

2013-02-23  ddegroot

	* [r4265] src/chan_sccp.h, src/sccp_socket.c: Guard against
	  negative s->buffer_size (valgrind)

	* [r4264] src/sccp_threadpool.c: Fix memory leak (valgrind)

	* [r4263] src/sccp_socket.c: cleanup order of sccp_process_data

	* [r4262] src/sccp_socket.c: valgrind fix sccp_process_data

	* [r4261] src/sccp_threadpool.c: Fix valgrind 'conditional jump or
	  move depends on uninitialised value'

	* [r4260] src/sccp_utils.c: Revised sccp_dump_packet

2013-02-22  marcelloceschia

	* [r4259] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  add sccp_asterisk_getSkinnyFormatMultiple

	* [r4258] src/sccp_config.c: use return value for during release,
	  print type

	* [r4257] src/sccp_device.c: use if with {

	* [r4256] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  fixes skinny <==> asterisk codec conversion, fixes inbound codec
	  negotiation, closes #48

	* [r4255] src/pbx_impl/ast/ast.h: remove whitespaces

	* [r4254] src/sccp_channel.c: fixes #55, fixes cfwd issue when
	  outgoing channel uses sip peer (cause 58 - Bearer capability not
	  available)

2013-02-21  marcelloceschia

	* [r4253] src/sccp_features.c: fixes issue during cfwd (double
	  channel release), references #51

2013-02-20  ddegroot

	* [r4252] src/chan_sccp.h: Added HAVE_UNALIGNED_BUSERROR to sparc
	  temporary fix

	* [r4251] autoconf/acinclude.m4, configure: Fixed
	  HAVE_UNALIGNED_BUSERROR detection to configure.ac (Sparc64 /
	  Alpha)

	* [r4250] autoconf/acinclude.m4, configure, configure.ac,
	  src/config.h.in: Added HAVE_UNALIGNED_BUSERROR detection to
	  configure.ac (Sparc64 / Alpha)

	* [r4249] autoconf/acinclude.m4, configure, configure.ac,
	  src/config.h.in: Added HAVE_ALIGNED_ACCESS_REQUIRED to
	  configure.ac

	* [r4248] src/chan_sccp.h, src/sccp_cli.c, src/sccp_config.c: Fix
	  for Sparc run-time issue with memory alignment (replaced unsigned
	  long long with unsigned long for sccp_group_t)

2013-02-19  ddegroot

	* [r4247] src/sccp_cli.c, src/sccp_config.c: Remarked out Fix for
	  Sparc run-time issue with memory alignment (need more time to
	  test/think)

	* [r4246] autoconf/extra.m4, configure: Fix sparc configure issue
	  calculating number of CPU

	* [r4245] src/chan_sccp.h, src/sccp_config.c: Fix sparc run-time
	  issue with memory alignment

2013-02-18  ddegroot

	* [r4244] ChangeLog, configure, configure.ac: Updated configure
	  report at the end

	* [r4242] src/sccp_socket.c: Warn more clearly when rejecting
	  connection from device based on global deny/permit settings
	  during socket connection

	* [r4241] ChangeLog, doc/doxygen.cfg, src/sccp_channel.c: Fix
	  doxygen warning in sccp_channel.c. Update doxygen.cfg for current
	  version. Update ChangeLog

2013-02-17  ddegroot

	* [r4239] Makefile.in, aclocal.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in: Disable automatic installation of
	  chan-sccp-b_backtrace script (bootstrap)

	* [r4238] Makefile.am: Disable automatic installation of
	  chan-sccp-b_backtrace script

2013-02-17  marcelloceschia

	* [r4237] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: use strdupa for lineName and fixing
	  refcount issue, fixes #49

2013-02-16  ddegroot

	* [r4235] src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_indicate.c: Temporarily removed callwaiting interval
	  until we find a correct solution

2013-02-15  ddegroot

	* [r4234] src/sccp_channel.c, src/sccp_indicate.c: Fixing
	  callwaiting interval handling (possible null dereference)

	* [r4233] src/sccp_cli.c: Show callwaiting interval in sccp show
	  globals

	* [r4232] src/sccp_protocol.c: Reduce debug logging when using
	  sendDynamicDisplayNotify

	* [r4231] src/sccp_indicate.c: Fix Channel setDevice needed to make
	  callwaiting work

2013-02-15  marcelloceschia

	* [r4230] src/sccp_featureButton.c: fixes refcount issuen when no
	  linedevice found

2013-02-14  ddegroot

	* [r4229] src/sccp_config_entries.h: Fix reload for adhocNumber
	  (sccp reload, reported by Sean Curran)

2013-02-14  marcelloceschia

	* [r4228] src/sccp_featureButton.c: fixes refcount issuen when no
	  linedevice found

2013-02-12  ddegroot

	* [r4225] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: Updated debug comment for 'answered
	  elsewhere'

2013-02-11  marcelloceschia

	* [r4224] src/pbx_impl/ast/ast108.c: fixes missing
	  ast_cel_linkedid_ref in asterisk 1.8.13.1, fixes #45

2013-02-11  ddegroot

	* [r4223] src/pbx_impl/ast/ast108.c: Fix: duplicate case value in
	  ast108.c for AST_CONTROL_REDIRECTING

	* [r4222] src/sccp_device.c, src/sccp_line.c: fixes #43

2013-02-10  marcelloceschia

	* [r4221] src/pbx_impl/ast/ast.c, src/sccp_actions.c,
	  src/sccp_device.c: add patch by diederik

	* [r4220] src/sccp_line.c: fixes #37, button feature not updated
	  when cfwd disabled

2013-02-09  ddegroot

	* [r4219] src/sccp_cli.c: Found little bug in display of
	  permit/deny values for device

2013-02-08  marcelloceschia

	* [r4218] src/pbx_impl/ast/ast108.c: use requestor->linkedid,
	  references #6

	* [r4217] src/sccp_line.c: do not release line when already created
	  by an other thread

2013-02-08  ddegroot

	* [r4216] src/sccp_refcount.c: revert previous sccp_refcount.c
	  compile warning fix

	* [r4215] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: renamed
	  function sccp_wrapper_sendRedirectedUpdate to
	  sccp_asterisk_sendRedirectedUpdate, as requested

	* [r4214] src/pbx_impl/ast/define.h: Fix compile issue with
	  pbx_channel_redirecting_effective_ in
	  sccp_asterisk_redirectedUpdate (after define.h was replaced in
	  other fix by marcello (conflicting commit))

	* [r4213] src/sccp_channel.c, src/sccp_refcount.c: Fix compile
	  warnings

2013-02-07  marcelloceschia

	* [r4212] src/pbx_impl/ast/define.h: references #33, clang issue

	* [r4211] src/pbx_impl/ast/astTrunk.c: do not register asterisk
	  glue, references #14

	* [r4210] src/pbx_impl/ast/define.h: fixes #33, clang issue

2013-02-07  ddegroot

	* [r4209] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h: Back port
	  of sendRedirectedUpdate. references #18.

	* [r4208] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Make compile with asterisk-1.8 / asterisk10 (references #18)

	* [r4207] src/sccp_channel.c: Make compile against asterisk-1.6
	  (references #18)

	* [r4206] src/pbx_impl/ast/ast108.c: Backport of astobj2 ref/unref
	  from astTrunk.c (references #2, references #22, references #15,
	  references #6)

2013-02-07  marcelloceschia

	* [r4205] src/sccp_hint2.c: add remark

	* [r4204] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_channel.c: fixes #18, with room for improvement
	  (transferer callLog)

	* [r4203] src/sccp_pbx.c: use unknown reason for call request

	* [r4202] src/sccp_hint2.c: fixes #32

2013-02-06  ddegroot

	* [r4201] src/pbx_impl/ast/ast108.c: Updated
	  sccp_wrapper_asterisk18_set_rtp_peer to new version (marcello).
	  Commented out ast_rtp_glue_register / ast_rtp_glue_unregister
	  (Fixes #31)

	* [r4200] contrib/gen_sccpconf/gen_sccpconf.c: Fixed sql file
	  generator for Postgresql.

	* [r4199] contrib/gen_sccpconf/gen_sccpconf.c: Fixed sql file
	  generator for SqlLite.

	* [r4198] contrib/gen_sccpconf/gen_sccpconf.c: Extended
	  gen_sccpconf.c to include complete sql file generator for Mysql,
	  Postgres and SqlLite.

	* [r4197] src/sccp_config.c: Cleanup debugging for sccp_config.c

2013-02-05  ddegroot

	* [r4196] src/sccp_config.c: Fix memory leak. fixes #29

	* [r4195] src/sccp_config.c, src/sccp_config_entries.h: Update
	  value for removed parameters in sccp.conf when parsing defaults.
	  fixes #29

2013-02-05  marcelloceschia

	* [r4194] src/pbx_impl/ast/ast108.c: this is references issue #31,
	  untested

2013-02-05  ddegroot

	* [r4193] src/sccp_features.c: Fix #28 : returning information when
	  gpickup failed.

2013-02-05  marcelloceschia

	* [r4192] src/sccp_pbx.c: fixes uninitialized warning

	* [r4191] src/sccp_pbx.c: cleanup transferChannels.transfer* during
	  the hangup process, add some remarks

2013-02-05  ddegroot

	* [r4190] src/sccp_features.c: Removed ugly hold/resume from
	  gpickup (Issue: #10)

	* [r4189] src/pbx_impl/ast/astTrunk.c, src/sccp_pbx.c: Fix two
	  small spelling mistakes

2013-02-05  marcelloceschia

	* [r4188] src/sccp_pbx.c: cleanup transferChannels.transfer* during
	  the hangup process

	* [r4187] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_softkeys.c: allow to complete
	  transfer on fist channel (transferee), references #25

2013-02-04  marcelloceschia

	* [r4186] src/pbx_impl/ast/astTrunk.c: some more checks test with
	  asterisk channel ref; related to #2 #22

2013-02-04  ddegroot

	* [r4185] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_pbx.c: Replace ast_mod_start ->
	  PBX(moh_start). Beautify sccp extension match helper output.

2013-02-04  marcelloceschia

	* [r4184] src/pbx_impl/ast/astTrunk.c: re-enable refcount for
	  asterisk channels, this is related to #22

2013-02-04  ddegroot

	* [r4183] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql, conf/mysql-v4.sql,
	  conf/mysql-v5.sql, conf/postgres.sql, conf/sccp.conf.annotated,
	  conf/sqlite.sql, conf/sqlite3.sql, src/chan_sccp.h,
	  src/conference/sccp_conference10.c, src/sccp_conference.h,
	  src/sccp_config_entries.h: Added music_on_hold paramater for
	  conference. Handle hold/resume in conference correctly. When
	  moderator is onhold, music is player. Set
	  conf_music_on_hold_class to empty string, if music on hold is not
	  wanted.

	* [r4182] src/sccp_channel.c: Followed revision 4179

	* [r4181] src/pbx_impl/ast/astTrunk.c: Fixed spelling mistake in
	  function name

	* [r4180] src/sccp_features.c: Cleanup conference join. (Issue #12)

2013-02-04  marcelloceschia

	* [r4179] src/sccp_channel.c: fixes #27

	* [r4178] src/pbx_impl/ast/astTrunk.c: du not use ast_channel_ref
	  in asterisk 11, closes #22

	* [r4177] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: fixes
	  channel refcount issue reported by Pavel Troller, closes #23

2013-02-04  ddegroot

	* [r4176] src/sccp_features.c: Fixed ')' issue reported by Bob
	  (chan-sccp-b r4175 - no compile on 2 diff systems)

2013-02-03  ddegroot

	* [r4175] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast108.c, src/sccp_channel.c,
	  src/sccp_conference.h, src/sccp_features.c: Put conference join
	  into production. Solved Issue #12

	* [r4174] src/conference/sccp_conference10.c: Fixed conference
	  channel refcount (moderators side of the channels, where not
	  being released after masqueration (Issue #1/#15)

	* [r4173] src/conference/sccp_conference10.c: Cleanup conference /
	  Added comments / Fixed Issue #1

	* [r4172] src/conference/sccp_conference10.c: Removed the
	  AST_BRIDGE_FLAG_SMART flag, resulting in working conference
	  destroy, even with larger participant numbers and foreign channel
	  types (like SIP). More testing is necessary, but it looks
	  hopefull.

	* [r4171] src/conference/sccp_conference10.c,
	  src/sccp_conference.h: Fixed participant refcount for conference,
	  so that it is cleaned up correctly after conference is over.
	  Added linkedid to conference struct. Update linkedid's to the
	  moderator channel whichs starts the conference

	* [r4170] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  Implemented sccp_wrapper_asterisk_set_channel_linkedid (replaced
	  linkedid/updated cel_ref)

	* [r4169] src/pbx_impl/ast/ast106.c: Replaced ast_rtp_glue_register
	  with ast_rtp_proto_register for asterisk 1.6

	* [r4168] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Fix queue
	  answer issue wenn invalid url has been added, checking URL
	  content in sendHTML to prevent invalid url being resent over and
	  over again (1).

	* [r4167] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Fix queue
	  answer issue wenn invalid url has been added, checking URL
	  content in sendHTML to prevent invalid url being resent over and
	  over again.

	* [r4166] src/sccp_channel.c, src/sccp_pbx.c: Tiny fix some debug
	  messages.

	* [r4165] src/sccp_features.c: Added comment to replace
	  pbx_pickup_call with PBX(feature_pickup)

2013-02-03  marcelloceschia

	* [r4164] src/sccp_indicate.c: do not send dialing state back to
	  asterisk, this will prevent signalling connected state when
	  pickup a parked call, fixes #17

2013-02-03  ddegroot

	* [r4163] src/sccp_features.c: Singular implementation for
	  grouppickup

	* [r4162] src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c:
	  Fix compile / fix comment / fix order

2013-02-03  marcelloceschia

	* [r4161] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: backport to asterisk 1.6 - 10

	* [r4160] Makefile.in, aclocal.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_channel.h, src/sccp_cli.c,
	  src/sccp_features.c, src/sccp_hint2.c, src/sccp_management.c,
	  src/sccp_pbx.c, src/sccp_softkeys.c: major logic error, this
	  fixes #6 and review for #15 may be a solution for #4

2013-02-02  ddegroot

	* [r4159] src/sccp_cli.c: Extent experimental define block to
	  enclose all cli test messages (1)

	* [r4158] src/sccp_cli.c: Extent experimental define block to
	  enclose all cli test messages

	* [r4157] src/sccp_cli.c: Update setvar listing in sccp show line

2013-02-01  ddegroot

	* [r4156] src/sccp_config_entries.h, src/sccp_line.c: Removed
	  default value sccpregistration for regcontext. When regcontext is
	  not available in sccp.conf the entries are not created. BTW
	  regcontext is only used for dundi lookup purposes

	* [r4155] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  Reactivate ast_rtp_glue_register. Partially solving bridging
	  issue when using queues. Channel is still not connected
	  correctly.

	* [r4154] src/sccp_utils.c: Fix debug log messages on channel find

2013-01-31  ddegroot

	* [r4153] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/mysql-v4.sql, conf/mysql-v5.sql, conf/postgres.sql,
	  conf/sqlite.sql, conf/sqlite3.sql: Added conference parameters to
	  database samples

2013-01-30  ddegroot

	* [r4152] src/sccp_device.c: Fix DND status display after reloading
	  chan-sccp-b

	* [r4151] src/sccp_actions.c: Debug Log Correction (sccp_actions.c)

2013-01-29  marcelloceschia

	* [r4150] contrib/res_xmpp.patch: fix

2013-01-29  ddegroot

	* [r4149] doc/05_Features_V3.doc, doc/doxygen.cfg,
	  src/conference/sccp_conference10.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_device.c, src/sccp_event.c,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_hint2.c,
	  src/sccp_hint2.h, src/sccp_line.c, src/sccp_pbx.c,
	  src/sccp_pbx.h, src/sccp_socket.c, src/sccp_threadpool.h,
	  src/sccp_utils.c: Doxygen/Documentation corrections

	* [r4148] ChangeLog, src/chan_sccp.c,
	  src/conference/sccp_conference10.c, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_actions.c:
	  Doxygen/Documentation corrections

	* [r4147] ChangeLog, INSTALL, Makefile.in, aclocal.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/extra.m4, autoconf/install-sh, autoconf/missing,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in, src/pbx_impl/ast/ast.h,
	  src/sccp_channel.c, src/sccp_refcount.c: Removed configure option
	  --enable-refcount-liveobjects (not in use any more). Added new
	  configure option: --enable-refcount-debug to activate
	  /tmp/sccp_ref /tmp/refs logging for refcount debug purposes,
	  disabled by default (Issue reported by Bob)

2013-01-29  marcelloceschia

	* [r4146] src/sccp_channel.c: syntax

	* [r4145] src/sccp_channel.c: syntax

	* [r4144] src/sccp_channel.c: disable notice log when no
	  preferences list for recalc codec is set, check for enabled codec
	  do preferences codec move

2013-01-28  marcelloceschia

	* [r4143] src/sccp_hint2.c: experimental distributed device state
	  section

2013-01-27  marcelloceschia

	* [r4142] src/sccp_actions.c: disable callplane when channel was
	  not found

	* [r4141] INSTALL, autoconf/config.guess, autoconf/config.sub,
	  autoconf/depcomp, autoconf/extra.m4, autoconf/install-sh,
	  autoconf/missing, configure, src/config.h.in: add configure
	  option

2013-01-26  marcelloceschia

	* [r4140] contrib/res_xmpp.patch[ADD]: add res_xmpp.patch

2013-01-25  marcelloceschia

	* [r4139] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: fixes compile issues with asterisk <
	  11 do linkid changes

	* [r4138] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: use linkedId for channel alloc

	* [r4137] Makefile.in, aclocal.m4, autoconf/asterisk.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/chan_sccp.h, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_config_entries.h, src/sccp_device.c,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_management.c,
	  src/sccp_pbx.c, src/sccp_pbx.h, src/sccp_protocol.c,
	  src/sccp_softkeys.c: use linkedId for inbound, transfered and
	  forwared calls

2013-01-23  marcelloceschia

	* [r4136] src/sccp_channel.c: do not use ulaw as fallback

2013-01-20  marcelloceschia

	* [r4135] src/pbx_impl/ast/astTrunk.c: display park position,
	  closes #5

	* [r4134] src/pbx_impl/ast/astTrunk.c: display park position

2013-01-20  ddegroot

	* [r4133] contrib/phone_screenshot/README[ADD]: Added readme file
	  to phone_screenshot

	* [r4132] src/conference/sccp_conference10.c: Check participant
	  returned from sccp_conference_participant_findByPBXChannel before
	  using it

	* [r4131] src/sccp_pbx.c: Set initial value for extension_exists

2013-01-20  marcelloceschia

	* [r4130] src/pbx_impl/ast/astTrunk.c: this can resolve #5

2013-01-19  ddegroot

	* [r4129] contrib/phone_screenshot[ADD],
	  contrib/phone_screenshot/phone_screenshot[ADD],
	  contrib/phone_screenshot/scr2img[ADD]: Added screenshot get
	  utility to contrib directory

	* [r4128] src/conference/sccp_conference10.c: Fixed tiny debug log
	  output spelling mistake

	* [r4127] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/define.h: Redefined
	  pbx_channel_ref/pbx_channel_unref for older asterisk version ->
	  Fixing multiple warnings during compilation

	* [r4126] ChangeLog, NEWS: Updated News/ChangeLog files to reflect
	  current status of V4.1

	* [r4125] conf/tftp/SEP0000000000.cnf.xml_797x_template: Update
	  xml.cnf sample file with <callLogBlfEnabled>3</callLogBlfEnabled>

2013-01-18  marcelloceschia

	* [r4122] src/sccp_hint2.c: some test with hint2

2013-01-16  ddegroot

	* [r4118] src/sccp_socket.c: Removed FIONREAD before read, not
	  being used anymore

2013-01-16  marcelloceschia

	* [r4117] src/sccp_socket.c: remove bytesAvailable

	* [r4116] src/sccp_socket.c: fixes logic issue in read function

2013-01-16  ddegroot

	* [r4115] src/sccp_lock.h, src/sccp_refcount.c: Fixed
	  sccp_refcount, when compiling with atomic functions

2013-01-14  ddegroot

	* [r4112] src/sccp_config.c: Added config parsing debug log line to
	  sccp_config_object_setValue

2013-01-13  marcelloceschia

	* [r4111] src/sccp_socket.c: revert last changes

	* [r4110] src/sccp_socket.c: fixes double socket cleanup

	* [r4109] src/sccp_socket.c: use sccp_socket_stop_sessionthread in
	  sccp_socket_device_thread_exit

	* [r4108] src/pbx_impl/ast/astTrunk.c: remove double release device

2013-01-12  marcelloceschia

	* [r4107] src/pbx_impl/ast/astTrunk.c: reduce complexity of call
	  parking in asterisk 11

	* [r4106] src/sccp_softkeys.c: fix for RedialMenu, other way to
	  handle speeddial button press

	* [r4105] src/sccp_cli.c: resort output

2013-01-12  ddegroot

	* [r4104] src/pbx_impl/ast/ast108.h: Fix warning when compiling
	  against asterisk-1.8

	* [r4103] src/pbx_impl/ast/define.h: pbx_devstate_changed mapping
	  to pbx call

	* [r4102] src/pbx_impl/ast/define.h: pbx_devstate_changed mapping
	  to pbx call

	* [r4101] src/sccp_features.c: Fix rtp audio during grouppickup for
	  asterisk-trunk (2)

	* [r4100] src/sccp_channel.c, src/sccp_features.c: Fix rtp audio
	  during grouppickup for asterisk-trunk

	* [r4099] src/pbx_impl/ast/define.h, src/sccp_hint2.c: Added
	  notifySubscribers shortcut to notifyPBX if devicestate is not
	  changing and we do not need to notify asterisk

2013-01-11  ddegroot

	* [r4098] src/sccp_hint2.c: Added more models to
	  sccp_hint_isCIDavailabe. Added/updated debug logging

	* [r4097] src/sccp_actions.c: Comment out Remote RINGING + gpickup

2013-01-11  marcelloceschia

	* [r4096] src/pbx_impl/ast/astTrunk.c, src/sccp_channel.c: check
	  for CS_SCCP_PICKUP

	* [r4095] src/pbx_impl/ast/astTrunk.c: check for CS_SCCP_PICKUP

2013-01-11  ddegroot

	* [r4094] src/sccp_channel.c: Forgot the check the version number
	  for ast_channel_callgroup_set

	* [r4093] src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/sccp_channel.c, src/sccp_features.c: Temporary fix gpickup
	  for asterisk-11

2013-01-11  marcelloceschia

	* [r4092] src/pbx_impl/ast/astTrunk.c: apply ringinuse2busy.diff
	  from pavel

2013-01-10  ddegroot

	* [r4091] src/pbx_impl/ast/astTrunk.c, src/sccp_features.c: Revert
	  to old functionality

	* [r4090] src/chan_sccp.h, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c, src/sccp_features.c: Pass along the linkedid.
	  Fix grouppickup forceHangup.

	* [r4089] src/sccp_cli.c: Added test message function for setting
	  hint to specific value (testing SCCP/111#11)

	* [r4088] src/sccp_lock.h, src/sccp_refcount.c: Revised
	  sccp_refcount: replaced CAS32 with ATOMIC_INCR/ATOMIC_DECR. Added
	  debug function which creates output in /tmp/sccp_refs when
	  compiled with --enable-debug

2013-01-10  marcelloceschia

	* [r4087] src/sccp_hint2.c: use (line->channels.size > 1) to
	  detemine shared line hint

2013-01-09  ddegroot

	* [r4086] src/sccp_pbx.c: Fix warning unused variable

	* [r4085] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Set the linkedid on a newly
	  allocated channel if we can find it in the channel->owner we are
	  allocating for.

	* [r4084] src/sccp_channel.c: Update sccp_channel_set_calledparty
	  (Proposal)

	* [r4083] src/sccp_pbx.c: Ran a couple of checks with
	  (asterisks_astobj2) REF_DEBUG, and found the reason why
	  ast_channel_unref during hangup would not work before. Added a
	  remark to sccp_pbx.c to indicate this. Added a workaround for
	  now.

2013-01-08  ddegroot

	* [r4082] src/sccp_actions.c: Reducing logging for
	  sccp_handle_token_request

	* [r4081] conf/postgres.sql: update postgres.sql sccpdeviceconfig
	  view. We need to sort by instance before handing the table over
	  to the aggregate textcat_column

	* [r4080] src/sccp_actions.c: Reduced default logging for
	  sccp_handle_dialedphonebook_message to sccp_log((DEBUGCAT_HINT |
	  DEBUGCAT_ACTION))

	* [r4079] src/sccp_pbx.c: Reduce double wait time in case a number
	  does not exist using PBX(extension_status(c)) instead of
	  pbx_exists_extension which only match exact matches.

2013-01-07  ddegroot

	* [r4078] src/sccp_socket.c: Check session null pointer at the
	  start of sccp_read_data

	* [r4077] src/pbx_impl/ast/ast.h, src/pbx_impl/ast/astTrunk.c: Fix
	  module unload gracefully (Reported by Derek Ivey. Cause by taking
	  ast_channel_ref, while not releasing it during hangup and being
	  dependent on res_rtp_asterisk making us unload very late.

	* [r4076] src/sccp_hint2.c: Added IP_Communicator to
	  checkCIDAvailable

	* [r4075] src/sccp_pbx.c: Reduce double wait time in case a number
	  does not exist. sccp_log line was checking again.

	* [r4074] src/pbx_impl/ast/ast.h, src/sccp_cli.c: Fix compile when
	  using --disable-pickup (Added check for CS_SCCP_PICKUP)

	* [r4073] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Fix
	  compile when using --disable-pickup (Added check for
	  CS_SCCP_PICKUP)

	* [r4072] src/sccp_actions.c, src/sccp_softkeys.c: Fix compile
	  warnings when using --disable-pickup

	* [r4071] src/sccp_config_entries.h: Fix compile when using
	  --disable-pickup

2013-01-06  ddegroot

	* [r4070] src/Makefile.in, src/sccp_hint2.c: Make sccp_hint2.c
	  compatible to all pbx versions. Suppress warnings.

2013-01-06  marcelloceschia

	* [r4069] src/sccp_hint2.c: sorry pavel, it was my fault

2013-01-06  ddegroot

	* [r4068] src/chan_sccp.h: Added DEBUGCAT_FILELINEFUNC, when you
	  activate 'sccp debug filelinefunc' all debug lines start with the
	  file/line/function information before the actual debug info.

2013-01-06  marcelloceschia

	* [r4067] src/sccp_hint2.c: make hint2 compatible with ast 1.8

	* [r4066] src/sccp_channel.c: remove sccp_hint_lineStatusChanged

	* [r4065] src/Makefile.am, src/Makefile.in, src/common.h: switch to
	  hint2

	* [r4064] src/sccp_hint2.c: use strict enum value

	* [r4063] src/sccp_socket.c: cleanup

2013-01-06  ddegroot

	* [r4062] src/sccp_hint2.c: Update sccp_hint_devstate_cb, to fix
	  extension_state for Ring&InUse and OnHold&InUse. Added correct
	  handling for InUse when starting a new call (Dialing instead of
	  Connected)

	* [r4061] src/sccp_channel.c: Updated some of the debug lines, to
	  know the origin

	* [r4060] src/sccp_pbx.c: Updated some of the debug lines, to know
	  the origin

2013-01-05  ddegroot

	* [r4059] src/sccp_hint2.c: Extended debugging to include function
	  name and if possible either device->id or line->name

	* [r4058] src/Makefile.am, src/Makefile.in, src/common.h: Revert
	  accidental checkin of Makefile.am/common.h

	* [r4057] src/Makefile.am, src/Makefile.in, src/common.h,
	  src/sccp_hint2.c: Add segmentation to the sccp_hint2.c file /
	  Reorder Functions / Move FeatureEventHandling to Dispatcher
	  Segment / No/little code changes

	* [r4056] src/sccp_actions.c: Added context output to debug output
	  when pull phonebook information
	  (sccp_handle_dialedphonebook_message)

	* [r4055] src/Makefile.in, src/sccp_hint.c, src/sccp_hint.h:
	  Reverted sccp_hint2 from common.h / Makefile.am

	* [r4054] src/Makefile.am, src/common.h: Reverted sccp_hint2 from
	  common.h / Makefile.am

	* [r4053] src/sccp_indicate.c: Indent commented code

	* [r4052] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  Replicated PBX(getExtensionState) to other ast_impl files

	* [r4051] src/pbx_impl/ast/astTrunk.c: Ringing & Inuse should
	  return Alerting

	* [r4050] src/pbx_impl/ast/astTrunk.c, src/sccp_hint2.c: Forgot the
	  two aggregated states

2013-01-05  marcelloceschia

	* [r4049] src/pbx_impl/ast/astTrunk.c: temp working version

2013-01-05  ddegroot

	* [r4048] src/pbx_impl/ast/astTrunk.c: Added pbx_log LOG_NOTICES
	  for every extensionstate

	* [r4047] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Update
	  getExtensionState

	* [r4046] src/sccp_channel.c, src/sccp_hint2.c,
	  src/sccp_protocol.h: Update CS_DEVSTATE_CACHEABLE to
	  sccp_hint2.c. Updated Comment in sccp_protocol.h

2013-01-05  marcelloceschia

	* [r4045] src/sccp_actions.c: add CallListStateUpdate

	* [r4044] src/sccp_actions.c: add CallListStateUpdate

	* [r4043] src/sccp_protocol.h: fixes spelling

2013-01-05  ddegroot

	* [r4042] src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h:
	  Implementation of PBX(getExtensionState)

2013-01-05  marcelloceschia

	* [r4041] src/sccp_protocol.h: update 0x0153 message

	* [r4040] src/sccp_hint2.c: cleanup

	* [r4039] src/sccp_hint2.c, src/sccp_hint2.h: cleanup

2013-01-05  ddegroot

	* [r4038] src/Makefile.in: Temporary update for sccp_hint2.c

2013-01-05  marcelloceschia

	* [r4037] src/sccp_hint2.c: fixes issue with onhook

2013-01-04  ddegroot

	* [r4036] src/Makefile.am, src/Makefile.in, src/common.h,
	  src/sccp_hint.c, src/sccp_hint.h, src/sccp_hint2.c,
	  src/sccp_hint2.h: Added CS_EXPERIMENTAL around sccp_hint2.c, and
	  included it into Makefile.am and common.h (for now)

2013-01-04  marcelloceschia

	* [r4035] src/sccp_actions.c: quck fix to solve issue with hinted
	  speeddial on devices without dynamic speeddial

	* [r4034] src/sccp_hint2.c: fixes issue with
	  --disable-dynamic-speeddial

	* [r4033] src/sccp_event.c: logic error fix

	* [r4032] src/sccp_hint2.c[ADD], src/sccp_hint2.h[ADD]: just some
	  tests

2013-01-03  ddegroot

	* [r4031] src/pbx_impl/ast/astTrunk.c: Fix CDR CallerID Name set
	  instead of Number. Copy/Paste Error (Pavel Troller)

	* [r4030] src/sccp_hint.c: Moved SCCP_CHANNELSTATE_RINGOUT to
	  return DIALING state. (Thanks Pavel)

	* [r4029] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c: Fix
	  compile issue because of missing '{'

	* [r4028] src/pbx_impl/ast/astTrunk.c, src/sccp_hint.c: Trying to
	  fix hints with asterisk-11

	* [r4027] src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_hint.c: Switched to using sccp_hint_getLinestate to
	  retrieve sccp_wrapper_asterisk_devicestate. Removed old
	  chan_sccp.c: sccp_devicestate implementation

	* [r4026] src/pbx_impl/ast/astTrunk.c: Add force update rtp_peer
	  todo comment to fixup in astTrunk.c

	* [r4025] src/pbx_impl/ast/astTrunk.c: Fix fixup for astTrunk.c
	  which causes hangup issues during transfer (Reported by Pavel
	  Troller)

2013-01-02  ddegroot

	* [r4024] src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/pbx_impl/ast/define.h, src/sccp_pbx.c: Add
	  pbx_channel_varshead. Fix getting at presence in astTrunk.c

	* [r4023] src/chan_sccp.c, src/sccp_hint.c: Fix hint to handle
	  presentation/privacy correctly

	* [r4022] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c, src/sccp_pbx.c: Fix privacy presentaion /
	  presence parsing

	* [r4021] src/pbx_impl/ast/define.h, src/sccp_actions.c,
	  src/sccp_config.c, src/sccp_hint.c, src/sccp_hint.h: Update
	  definition for pbx_devicestate_change to handle
	  CS_CACHEABLE_DEVICESTATE besides CS_DEVICESTATE. Adapt other
	  files to use this new mapping correctly. (Reported by Bob Brown)

	* [r4020] INSTALL, Makefile.in, aclocal.m4, autoconf/asterisk.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/extra.m4, autoconf/install-sh, autoconf/missing,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in: Renamed CS_NEW_DEVICESTATE to
	  CS_DEVICESTATE. Added CS_CACHEABLE_DEVICESTATE (has new cacheable
	  option in asterisk-10-branch and asterisk-11-branche).

	* [r4019] src/conference/sccp_conference10.c: dtu_softkey.action
	  should be freed after use

	* [r4018] src/conference/sccp_conference10.c, src/sccp_hint.c,
	  src/sccp_pbx.c, src/sccp_protocol.c: Fixed possible null-pointer
	  dereferences. Fixed un-initialized pointers

2013-01-02  marcelloceschia

	* [r4017] src/sccp_hint.c: check for allowRinginNotification

	* [r4016] src/sccp_hint.c: nur kleine Änderungen

	* [r4015] src/sccp_cli.c: change video support to yes/no

	* [r4014] src/pbx_impl/ast/astTrunk.c: workaround for asterisk 11
	  log flooding

2013-01-01  ddegroot

	* [r4013] src/sccp_hint.c: Ident hint debug line for NONE SCCP Hint

	* [r4012] src/pbx_impl/ast/ast108.c, src/sccp_actions.c,
	  src/sccp_pbx.c: Correct refcount on sccp_pbx_softswitch. Replaced
	  return by goto EXIT_FUNC to make sure that correct release are
	  made.

	* [r4011] src/sccp_hint.c, src/sccp_softkeys.c: Fixed
	  privacy/presentation for sccp_hint.c

2013-01-01  marcelloceschia

	* [r4010] src/sccp_hint.c: fixes nullpointer for asterisk 11

	* [r4009] src/pbx_impl/ast/astTrunk.c: fixes video codec issue

2013-01-01  ddegroot

	* [r4008] src/pbx_impl/ast/astTrunk.c: Fix pbx_channel_name issue
	  in sccp_pbx_sendtext for asterisk-trunk (Reported by Nikola)

	* [r4007] ChangeLog: Update ChangeLog

	* [r4006] conf/postgres.sql: Documentation/SQL corrections
	  (Reported by Nikola)

	* [r4005] doc/04_Setup_Guide.doc: Documentation corrections
	  (Reported by Nikola)

	* [r4004] src/sccp_actions.c, src/sccp_hint.c: Reduce hint logging
	  when debug level = core to 'no output'

	* [r4003] src/sccp_hint.c, src/sccp_hint.h: Added
	  hint->callInfo.presentation. Renamed hint->callInfo.callingParty
	  to hint->callInfo.callingPartyNumber and
	  int->callInfo.calledParty to int->callInfo.calledPartyNumber

	* [r4002] src/chan_sccp.c, src/sccp_hint.c: Revised
	  sccp_devicestate to correct refcount issue during hint state
	  check

	* [r4001] src/sccp_hint.c: Fixed callinitiator speeddial hint
	  display when calling a singleLine

	* [r4000] src/sccp_hint.c: Fix hint display on callreceiving
	  speeddial. Still need to check the callinitiating speeddial
	  update.

	* [r3999] src/sccp_hint.c: channel release in sccp_hint.c

	* [r3998] src/chan_sccp.c, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_line.c, src/sccp_line.h: Added
	  sccp_line_getDNDChannelState to sccp_line. sccp_devicestate now
	  takes DND into account. Cleanup of sccp_hint.c. Updated doxygen
	  comments for sccp_hint

	* [r3997] conf/sccp.conf.annotated: Added conference options to
	  sccp.conf.annotated

	* [r3996] doc/doxygen.cfg: Added doxygen commandaliases

	* [r3995] src/chan_sccp.c, src/chan_sccp.h,
	  src/conference/sccp_conference10.c, src/sccp_refcount.c:
	  Reindented files

	* [r3994] src/.indent.pro, src/conference/.indent.pro,
	  src/pbx_impl/.indent.pro, src/pbx_impl/ast/.indent.pro: Updated
	  indent definitions. Added type defintioins to .indent.pro for
	  common types that should be nicely aligned in structures

2012-12-31  ddegroot

	* [r3993] src/sccp_hint.c: Removed non-functional code from
	  sccp_hint.c

	* [r3992] src/sccp_hint.c: Added force option to notifySubscriber
	  to force update on first registration

	* [r3991] src/sccp_hint.c: notifySubscribers when subscribing to a
	  a hint

	* [r3990] src/sccp_device.c, src/sccp_pbx.c, src/sccp_utils.c: Fix
	  Possible null pointer dereference / redundant null pointer
	  dereference check

	* [r3989] src/sccp_channel.c: Null Pointer Deref before starting
	  channel_clean

	* [r3988] src/sccp_config.c: Close file before returning

	* [r3987] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Null
	  Pointer Deref checks in sendHTML

	* [r3986] src/sccp_socket.c: Fix 2 fur crossover session (Reported
	  by MC)

	* [r3985] src/sccp_actions.c, src/sccp_socket.c: Fix fur crossover
	  session (Reported by MC)

	* [r3984] src/sccp_features.c: Demoted some of the pbx_log message
	  to sccp_log during conference creation.

	* [r3983] src/sccp_threadpool.c: Use return value from
	  SCCP_LIST_REMOVE in sccp_threadpool_thread_end

	* [r3982] src/sccp_hint.c: Skipping notifySubscribers if nothing
	  changed. Added V4.1 callInfo setting for dynamic speeddial.

	* [r3981] src/sccp_channel.c, src/sccp_hint.c, src/sccp_hint.h:
	  Removed previousState from sccp_hint_lineStatusChanged

2012-12-31  marcelloceschia

	* [r3980] src/sccp_protocol.h: OpenMultiMediaChannelMessage_v17
	  needs more bytes (Invalid SCCP message! : ID :131: readByte(16)
	  underrun, length = 4)

2012-12-31  ddegroot

	* [r3979] src/sccp_hint.c: Fixed
	  sccp_hint_handleFeatureChangeEvent, it was using the wrong
	  paramater type for sccp_hint_lineStatusChanged

2012-12-30  ddegroot

	* [r3978] src/sccp_socket.c: Comments removed

	* [r3977] src/sccp_hint.c: refcount correction when using the pbx
	  hint system

	* [r3976] src/pbx_impl/ast/ast110.c, src/sccp_hint.c,
	  src/sccp_hint.h: Make sccp_hint.c compile against asterisk-10 and
	  asterisk-trunk again

	* [r3975] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c:
	  Preliminary Sync pbx_impl in regards to sccp_devicestate

	* [r3974] src/sccp_channel.c, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_line.c: backport of sccp_hint.c
	  from V4.0

2012-12-24  ddegroot

	* [r3973] src/conference/sccp_conference10.c, src/sccp_features.c:
	  Binding device into the channel, which is on hold, before moving
	  it into the conference

2012-12-24  marcelloceschia

	* [r3972] src/pbx_impl/ast/astTrunk.c: fixes core with asterisk
	  11/trunk

	* [r3971] src/sccp_socket.c: fixes issue when s->device->session is
	  null

	* [r3970] src/pbx_impl/ast/astTrunk.c: fixes asterisk 11/trunk
	  compile issue when using --enable-video

2012-12-23  ddegroot

	* [r3969] src/sccp_features.c: Switching sccp_feat_join to
	  experimental mode until fully working and tested

	* [r3968] src/chan_sccp.h, src/conference/sccp_conference10.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_device.c: Fix
	  compile issue when running without --enable-conference

	* [r3967] src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_softkeys.c: Only show conf/conflist/join button if
	  enabled in the device configuration

2012-12-23  marcelloceschia

	* [r3966] src/sccp_device.c: deactivate conference button

2012-12-23  ddegroot

	* [r3965] src/conference/sccp_conference10.c: Fix conference
	  compilation under asterisk-11 (pbx_channel_name)

2012-12-23  marcelloceschia

	* [r3964] src/sccp_device.c: deactivate conference button

2012-12-23  ddegroot

	* [r3963] src/sccp_actions.c, src/sccp_softkeys.c: Only show
	  conf/conflist button if enabled in the device configuration

	* [r3962] src/sccp_softkeys.c: Remove conf/conflist button, if not
	  enabled using --enable-conference

	* [r3961] src/chan_sccp.h, src/conference/sccp_conference10.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_cli.h, src/sccp_conference.h, src/sccp_config_entries.h,
	  src/sccp_device.c, src/sccp_features.c, src/sccp_pbx.c,
	  src/sccp_protocol.h: conference: added sccp.conf options and
	  cli/ami commands

	* [r3960] src/sccp_utils.c, src/sccp_utils.h: Needed a way to check
	  if a string is nummeric -> added sccp_strIsNumeric

2012-12-23  marcelloceschia

	* [r3959] src/pbx_impl/ast/ast106.c: extend maxBitRate from calling
	  channel (port from ast108)

2012-12-23  ddegroot

	* [r3958] src/sccp_refcount.c, src/sccp_threadpool.c: Fix/Cleanups
	  for issues found by clang

2012-12-23  marcelloceschia

	* [r3957] src/pbx_impl/ast/ast110.c: extend maxBitRate from calling
	  channel (port from ast108)

	* [r3956] src/pbx_impl/ast/ast108.c: fixes asterisk 1.8 issue with
	  ast_channel_varshead

	* [r3955] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/astTrunk.c:
	  extend maxBitRate from calling channel

2012-12-22  marcelloceschia

	* [r3954] autoconf/extra.m4: fixes issue with clang >= 3.2

2012-12-21  marcelloceschia

	* [r3953] autoconf/extra.m4: fixes clang depricated cflag
	  -fcatch-undefined-behavior

	* [r3952] src/sccp_refcount.c: fixes clang warning

	* [r3951] src/sccp_utils.c: fixes clang warning

	* [r3950] src/sccp_utils.c: fixes clang warning

2012-12-21  ddegroot

	* [r3949] src/chan_sccp.c, src/chan_sccp.h, src/sccp_actions.c,
	  src/sccp_socket.c, src/sccp_socket.h: Large Rewrite/Revision of
	  Socket Handling Code (See mailinglist: chan-sccp-b socket
	  handling / network handlingchan-sccp-b socket handling / network
	  handling)

	* [r3948] src/sccp_lock.h: Fix clang warning about using unsigned
	  size_t for refcount. replace CAS32_TYPE with int instead

	* [r3947] src/conference/sccp_conference10.c: Fix clang warning
	  about indentifier in conference

	* [r3946] autoconf/extra.m4, configure: Fix compile with CC=clang

2012-12-21  marcelloceschia

	* [r3945] Makefile.in, aclocal.m4, conf/mysql-v5.sql, configure,
	  doc/Makefile.in, src/Makefile.in, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c, src/sccp_protocol.c, src/sccp_protocol.h:
	  move instance to function argument

	* [r3944] src/pbx_impl/ast/astTrunk.c: fixes issue with asterisk >=
	  11

2012-12-20  ddegroot

	* [r3943] src/pbx_impl/ast/ast110.c: Small correction to
	  PBX(setLanguage) for older asterisk versions

	* [r3942] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c:
	  Small correction to PBX(setLanguage) for older asterisk versions

2012-12-20  marcelloceschia

	* [r3941] src/conference/sccp_conference10.c: set language for
	  playback_channel using pbx impl

	* [r3940] src/conference/sccp_conference10.c: set language for
	  playback_channel using pbx impl

	* [r3939] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h: setLanguage impl

	* [r3938] src/conference/sccp_conference10.c: set language for
	  playback_channel in asterisk > 10

2012-12-20  ddegroot

	* [r3937] src/sccp_refcount.c: Explained Refcount Forced Destroy a
	  little better.

	* [r3936] src/sccp_refcount.c: Explained Refcount Forced Destroy a
	  little better.

	* [r3935] src/sccp_channel.c: Removed bad transfer foreignchannel
	  code. Added a possible solution by issuing a connected line
	  update (like call_forward)

	* [r3934] src/pbx_impl/ast/ast.c: Check for channel->tech wenn
	  using get_sccp_channel_from_pbx_channel

	* [r3933] aclocal.m4, autoconf/asterisk.m4, configure,
	  src/config.h.in: Added a little fix to compile against
	  asterisk-1.6.2.x without having DEBUG_THREADS. Issue is cause by
	  the include order in which pbx_impl includes asterisk header
	  files. (Bug Reported by: Leonid & Philippe)

2012-12-19  ddegroot

	* [r3932] src/sccp_pbx.c: Reverted back to previous behaviour for
	  sccp_pbx_answer. I think i was trying to hangup the wrong
	  channel, when the bridge could not be setup.

	* [r3931] src/conference/sccp_conference10.c,
	  src/sccp_conference.h: Fixed participant->conferenceBridgePeer
	  playback. Activated ConfList Menu Option. Added Refresh to the
	  ConfList Menu. Activated Kick and Mute Buttons.

	* [r3930] src/conference/sccp_conference10.c, src/sccp_pbx.c: Fixes
	  to compile against asterisk-1.6.2 and asterisk-trunk

	* [r3929] src/conference/sccp_conference10.c: Fixed device refcount
	  in conference after using the conflist.

	* [r3928] src/conference/sccp_conference10.c: Fixed device refcount
	  in conference after using the conflist.

	* [r3927] src/sccp_conference.h: Added copy of the moderators
	  language to conference->playback_channel, so that announcements
	  are played back in the moderators language

	* [r3926] src/pbx_impl/ast/define.h: Added copy of the moderators
	  language to conference->playback_channel, so that announcements
	  are played back in the moderators language

	* [r3925] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast108.c: Added copy of the moderators language
	  to conference->playback_channel, so that announcements are played
	  back in the moderators language

	* [r3924] src/conference/sccp_conference10.c: Trying to fix the
	  stream_and_wait issue when playing back to a single channel in a
	  bridge, suspend seems to work, but unsuspend doesn't, needs a
	  little more research i guess. Does not impact functionality for
	  now.

2012-12-18  ddegroot

	* [r3923] src/conference/sccp_conference10.c: Update playback to
	  stream. Stuttering sound issue still there during
	  playback_to_channel.

	* [r3922] src/sccp_pbx.c: Added comment about
	  AST_CONTROL_REDIRECTING to be implemented sometime in pbx_impl,
	  following same principal as update_connectedline

	* [r3921] src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/sccp_channel.c, src/sccp_pbx.c: Update redirecting
	  information by using pbx_channel_call_forward_set in
	  sccp_channel.c. Force update_connected_line during masqueration
	  for forwarded line -> Resulting in redirection information on the
	  caller display

	* [r3920] src/sccp_pbx.h: Function sccp_pbx_update_connectedline
	  not implemented in sccp_pbx.c anymore

	* [r3919] src/sccp_channel.c, src/sccp_pbx.c: Clarify the
	  channel->parentChannel release sequence.

	* [r3918] src/sccp_channel.c: Fixed sccp_channel_endcall

	* [r3917] src/sccp_pbx.c: During callforward when brigepeer cannot
	  be found, we should end the call on the parentChannel instead of
	  the current channel

	* [r3916] src/sccp_actions.c, src/sccp_channel.c: Fix refcount on
	  callforward. Matchup rtp capabilities during callforward.

2012-12-17  ddegroot

	* [r3915] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h: Speedup
	  conference end by only playing announcements once. Suppress nasty
	  CDR message by forcing the answertime to be set on Playback
	  Bridge Channel

	* [r3914] src/conference/sccp_conference10.c: Cleaned up,
	  Synchronised and Reformatted the Debug/Log Message for
	  conference.

	* [r3913] src/conference/sccp_conference10.c, src/sccp_line.c,
	  src/sccp_refcount.c, src/sccp_refcount.h: Fixed the conference
	  refcount issues

	* [r3912] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h: Generalized/Refactored masqueradeHelper
	  and moved to pbx_impl. Renamed alloc_conferenceTempPBXChannel ->
	  allocTempPBXChannel and request_foreign_channel ->
	  requestForeignChannel in pbx_impl. Specialized masqueradeHelper
	  in pbx_impl to be specific for the version used.

	* [r3911] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h: Refined
	  the masquerade helper by moving part of temp channel cloning to
	  pbx_impl

	* [r3910] src/conference/sccp_conference10.c, src/sccp_device.c,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_utils.c,
	  src/sccp_utils.h: Integrated both sendUserToDeviceVersion1Message
	  implemetations into one function in sccp_protocol.c by added
	  extra parameters for AppID, lineInstance, callReference and
	  TransactionID

	* [r3909] src/sccp_device.c: Reverted sccp_dev_buildpacket back to
	  previous behaviour (mallocing only the exact space needed for an
	  sccp message, instead of SCCP_MAX_PACKET)

	* [r3908] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_conference.h, src/sccp_features.c: Refactored
	  masqueration part of conference completely. The new version works
	  under asterisk-1.8, asterisk-10 and asterisk-11. asterisk-1.6.2
	  has not been checked/tested (but does compile and should follow
	  asterisk-1.8)

2012-12-16  marcelloceschia

	* [r3907] src/sccp_protocol.c: remove debug lines

	* [r3906] src/sccp_protocol.c: fixes
	  UserToDeviceDataVersion1Message

2012-12-16  ddegroot

	* [r3905] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h: Moved
	  asterisk version specific function for conference to pbx_impl.
	  Fixed connected_line_update segfault for id.tag for
	  asterisk-trunk in astTrunk.c

	* [r3904] src/sccp_cli.c: Fix error when using sccp tokenAck on
	  device without a session

2012-12-15  ddegroot

	* [r3903] src/conference/sccp_conference10.c: Make conference
	  compile against asterisk-10.6.*

	* [r3902] src/conference/sccp_conference10.c: Make conference
	  compile against asterisk-10

	* [r3901] src/sccp_actions.c: Reduce log level when handling empty
	  d->softkeyDefinition

	* [r3900] ChangeLog, autoconf/extra.m4, configure: Switching to
	  std=gnu99 (with support for gnu89 inlining)

	* [r3899] contrib/llvm-scan-build: Added optional parameters to the
	  llvm-scan-build script

	* [r3898] src/conference/sccp_conference10.c: Check part->channel
	  to make sure we are dealing with an sccp phone when creating the
	  conflist

	* [r3897] src/sccp_device.c: Reduce debug log level on device
	  create

	* [r3896] src/sccp_actions.c: Removed some of the dump_packet debug
	  where not necessary anymore

	* [r3895] src/sccp_utils.c: Change debug log level for realtime
	  when creating new line (1)

	* [r3894] src/sccp_utils.c: Change debug log level for realtime
	  when creating new line

	* [r3893] src/sccp_features.c: Fixed sccp_features.c compile error
	  when using asterisk 11.1

	* [r3892] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast108.c: Added handling for conflist actions
	  (Experimental).

	* [r3891] src/sccp_refcount.h: Fixed missing newline in
	  sccp_refcount.h

	* [r3890] src/conference/sccp_conference10.c: Moved part of the
	  conference cleanup to __sccp_conference_destroy

	* [r3889] src/conference/sccp_conference10.c: Added comment to
	  special asterisk-trunk addition 'alloc_playback_chan'

	* [r3888] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/pbx_impl/ast/define.h: Make new conference implementation
	  compile against asterisk-11.1 as well

	* [r3887] src/conference/sccp_conference10.c: Made conference
	  compatible to asterisk 1.6.2 again. Added corrected releases when
	  returning error during addParticipant

	* [r3886] src/conference/sccp_conference10.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/define.h: Updated
	  alloc_conferenceTempPBXChannel, added definitions to define.
	  Replaced function calls in conference to use pbx_impl instead

2012-12-14  ddegroot

	* [r3885] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c, src/sccp_protocol.h:
	  Added ConfList to conference implementation

	* [r3884] src/sccp_device.c, src/sccp_utils.c: Temporary Revert
	  sccp_build_packet to old behaviour to fix
	  UserToDeviceDataVersion1Message.

	* [r3883] src/conference/sccp_conference10.c: Added
	  entering/leaving announcements to conference

	* [r3882] src/sccp_conference.h: Added entering/leaving
	  announcements to conference

	* [r3881] src/conference/sccp_conference10.c, src/sccp_features.c,
	  src/sccp_pbx.c: Retain conference in d->conference and release
	  nicely upon pbx_hangup. Issue error message for now when a
	  conference is started twice on one device.

	* [r3880] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c: Fixed zombie/hangup
	  issue when using conference. Channels should not be left over
	  after finishing the conference anymore.

2012-12-09  ddegroot

	* [r3879] src/sccp_management.c: Allow empty number with AMI
	  SCCPStartCall (jacob)

	* [r3878] src/sccp_management.c: Add swap channels option (yes/no)
	  when resuming to the AMI function SCCPHoldCall (jacob)

2012-12-08  ddegroot

	* [r3877] src/conference/sccp_conference10.c: Prevent null pointer
	  dereference in __sccp_conference_addParticipant because retain
	  could return null

	* [r3876] src/chan_sccp.c: Prevent null pointer dereference in
	  check_session_message_device when r==NULL

	* [r3875] src/sccp_config.c: Prevent null pointer dereference in
	  sccp_config.c during GLOB(lines) traversal, when line refcount
	  would be 0 during release

	* [r3874] src/conference/sccp_conference10.c: Prevent null pointer
	  dereference in sccp_conference10.c

	* [r3873] src/sccp_event.c: Prevent dereferencing null-pointer,
	  during event retension failure

	* [r3872] src/sccp_refcount.c: Removed uninitialized value from
	  refcount debug log

	* [r3871] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c: Replaced custom SCCP::? linkedid for asterisk
	  1.8 and up by the asterisk generated one

	* [r3870] src/sccp_channel.c: Prevent possible null pointer
	  dereference when sccp_device_retain returns NULL in
	  sccp_channel_set_active

2012-12-05  ddegroot

	* [r3869] src/sccp_config.c: Ugly solution to sccp reload problem
	  when sccp.conf has not changed. config_load mixes ast_config
	  struct with errors on its return, should have been byref, bu that
	  is not the case. On FILEUNCHANGED we need to load the config
	  files anyway but keep returning FILE_NOT_CHANGED, so that for
	  other function GLOB(cfg) will atleast have valid data.

	* [r3868] contrib/gen_sccpconf/gen_sccpconf.c: Fix missing type
	  entries for devices and lines

2012-12-02  ddegroot

	* [r3867] src/sccp_socket.c: Reverted
	  sccp_socket_stop_sessionthread to using pthread_join for now

2012-12-02  marcelloceschia

	* [r3866] conf/mysql-v5.sql: add FOREIGN KEY check for mysql5

2012-12-02  ddegroot

	* [r3865] src/sccp_socket.c: Updated
	  sccp_socket_stop_sessionthread, to include pthread_join after
	  pthread_cancel (solves sporadic issue in ioctl. Also added
	  comment about using shutdown(s->fds[0].fd, SHUTDOWN_RDWR) instead
	  of pthread_cancel.

2012-12-01  ddegroot

	* [r3864] src/sccp_actions.c, src/sccp_socket.c: Revised
	  sccp_socket_stop_sessionthread

2012-11-27  ddegroot

	* [r3859] src/pbx_impl/ast/define.h: Added automatic x = NULL after
	  sccp_free(x) in define.h.

	* [r3856] src/conference/sccp_conference10.c: Added manager events
	  to conference

	* [r3855] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c: Trying to get rid of
	  the unused moderator channel which was put on hold.

2012-11-26  ddegroot

	* [r3853] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Corrected module registration string

	* [r3852] src/pbx_impl/ast/ast.h, src/pbx_impl/ast/define.h: Added
	  fileexists / file.h to pbx_impl

	* [r3851] src/conference/sccp_conference10.c,
	  src/sccp_conference.h: Started implementation of
	  sccp_conference_playback_helper

	* [r3850] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c, src/sccp_refcount.c,
	  src/sccp_refcount.h: Fix conference refcount issue. Removed
	  num_participants. Added conferece->finishing, conference->locked.
	  Fix Module unload after creating a conference

2012-11-25  ddegroot

	* [r3849] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c: Cleaned up
	  conference/sccp_conference10.c for further development. Multiple
	  conference moderators are now possible. This is necessary to hand
	  over a conference to another participant (this functionality has
	  to be added later), it also simplifies the other functions,
	  because all participants are dealt with in the same manner.

	* [r3848] src/conference/sccp_conference10.c: Patched
	  conference/sccp_conference10.c so that confernce works, and does
	  not segfault on hangup. Moderator refcount is not released
	  correctly yet and async_goto after conference end has been
	  disabled. Module unload does not work after conference has been
	  used. More work is necessary. Simple conferences do work. Visual
	  feedback about confererence status has not been implemented yet.

	* [r3847] src/sccp_device.c: Default registration state of a device
	  is none instead of failed

	* [r3846] src/sccp_pbx.c: Fixed second incoming call. Indication
	  for callwaiting was being sent to the wrong channel.

2012-11-24  ddegroot

	* [r3845] src/sccp_config_entries.h, src/sccp_protocol.h,
	  src/sccp_softkeys.c: Fix grouppickup softkey to cancel dial
	  scheduler

	* [r3844] src/sccp_features.c, src/sccp_softkeys.c: Fix grouppickup
	  softkey retain instead of release. Added cancellation of
	  scheduler.digittimeout (ticket #166). Removed indicate RINGING
	  from grouppickup.

	* [r3842] src/sccp_cli.c, src/sccp_features.c: Fix grouppickup to
	  only pickup RINGING channels

	* [r3840] src/pbx_impl/ast/ast106.c, src/sccp_features.c: Correct
	  comment / debug statement about channel_locking during
	  findChannelWithCallback (ast106)

2012-11-24  marcelloceschia

	* [r3838] src/sccp_config_entries.h: set allowRinginNotification
	  default to no

2012-11-23  marcelloceschia

	* [r3837] src/sccp_actions.c: AST_STATE_UP with full checks in
	  sccp_handle_OpenMultiMediaReceiveAck

2012-11-21  marcelloceschia

	* [r3836] src/sccp_actions.c: does this fix Crossover sessions?

2012-11-18  marcelloceschia

	* [r3834] src/sccp_actions.c: removed sccp_device_release(d),
	  because it was not retained in this function

2012-11-17  ddegroot

	* [r3831] src/sccp_hint.c: Fixed hint->callInfo.calltype setting
	  for hinthandling (protocolversion <15)

	* [r3830] src/sccp_actions.c, src/sccp_channel.c, src/sccp_hint.c,
	  src/sccp_hint.h, src/sccp_indicate.c, src/sccp_line.c: Update
	  attachLine/detachLine event handling for hints

2012-11-15  marcelloceschia

	* [r3827] src/sccp_hint.c: fix hint when allowRinginNotification=no

2012-11-14  ddegroot

	* [r3826] src/sccp_hint.c: Renamed #if CS_EXPERIMENTAL_ to #if 1
	  for now

2012-11-14  marcelloceschia

	* [r3825] src/sccp_hint.c: fix

	* [r3824] src/sccp_hint.c: reduce the #ifndef CS_EXPERIMENTAL_
	  block

2012-11-14  ddegroot

	* [r3823] src/sccp_hint.c: Skip updating hint information if
	  hint->previousState and hint->currentState are the same

	* [r3822] src/sccp_channel.c: Remove error status from
	  preferredCodec debug line

2012-11-13  marcelloceschia

	* [r3820] src/sccp_hint.c: do not use AST_EVENT_DEVICE_STATE for
	  hint subscribtion. Using AST_EVENT_DEVICE_STATE let us miss the
	  cid info

2012-11-11  ddegroot

	* [r3819] src/sccp_hint.c: Cleaned up comment in sccp_hint.c

2012-11-11  marcelloceschia

	* [r3818] src/sccp_hint.c, src/sccp_hint.h: subscribe
	  SCCP_EVENT_DEVICE_ATTACHED

2012-11-11  ddegroot

	* [r3817] src/sccp_hint.c: Added debuglogging to trace why hint
	  processing does not work correctly in asterisk 11. Apparently we
	  have to change sccp_hint to use ast_extension_state_add /
	  ast_extension_state_del and ast_state_cb_info instead. We should
	  move hint event handling to pbx_impl for be able to create a
	  generic wrapper

2012-11-10  ddegroot

	* [r3816] src/sccp_threadpool.c: Prevent endless loop during
	  threadpool_destroy while waiting for threads to end

	* [r3815] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h: (Fix Ast11) Replaced remote call to
	  PBX(get_pbx_module) to retrieve static ast_module_info->self by
	  implementing pbx_manager_register inside astTrunk.c instead

	* [r3814] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/pbx_impl/ast/define.h, src/pbx_impl/pbx_impl.h,
	  src/sccp_cli.c, src/sccp_management.c: (Ast11) Replaced remote
	  call to PBX(get_pbx_module) to retrieve static
	  ast_module_info->self by implementing pbx_manager_register inside
	  astTrunk.c instead

	* [r3813] src/sccp_cli.c: Reenable
	  pbx_manager_register/pbx_manager_unregister calls for asterisk 11

	* [r3812] src/sccp_threadpool.h: Removed non-existent static
	  function definitions from sccp_threadpool.h

	* [r3811] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_cli.c, src/sccp_management.c:
	  Fixed manager_register functions by including a PBX callback
	  function to retrieve the ast_module_info->self pointer which is
	  only available astTrunk.c.

2012-11-09  ddegroot

	* [r3810] Makefile.in, autoconf/extra.m4, configure,
	  doc/Makefile.in, src/Makefile.in: Update num_cpu retrieval in
	  extra.m4

	* [r3809] src/sccp_threadpool.c: Fix debug message. Fix last_resize
	  update after first threadpool decrease to prevent multiple
	  decreases in one loop

2012-11-09  marcelloceschia

	* [r3808] src/pbx_impl/ast/astTrunk.c: fixes asterisk > 10 codec
	  issue

	* [r3807] INSTALL, Makefile.in, aclocal.m4, autoconf/asterisk.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in, src/pbx_impl/ast/astTrunk.c:
	  fixes asterisk > 10 codec issue

2012-11-09  ddegroot

	* [r3806] src/sccp_threadpool.c, src/sccp_threadpool.h: Replaced
	  threadpool thread_array with double linked list. Added timedwait
	  condition for thread_exit, to wait for threadpool winddown during
	  threadpool shutdown. If threads do not stop in a timely fashion
	  we kill the threadpool threads without waiting any further.

	* [r3805] src/sccp_threadpool.c: Fix sccp_threadpool when reducing
	  number of threads by skipping self

2012-11-09  marcelloceschia

	* [r3804] src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.h, src/sccp_hint.c: device option to
	  prevent ringin notification for hints

2012-11-09  ddegroot

	* [r3803] src/sccp_cli.c, src/sccp_threadpool.c: Refine
	  debuglogging for sccp_threadpool

	* [r3802] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_threadpool.c, src/sccp_threadpool.h: Major revision of
	  sccp_threadpool. Using pthread_conditional signaling instead of
	  semaphores, using sccp_dllist instead of locally implemented
	  queue, not resizing pthread_array but using fixed sized array.
	  Continue work without waiting for signal if more work is
	  available.

2012-11-08  ddegroot

	* [r3801] src/sccp_cli.c, src/sccp_threadpool.c: Switched of
	  threadpool resizing for now (While finding the solution for new
	  thread creation)

	* [r3800] src/sccp_threadpool.c: Added jobqueue debuglog entries

2012-11-07  ddegroot

	* [r3799] src/pbx_impl/ast/astTrunk.c: Fix hangup issue when using
	  asterisk 11

	* [r3798] tools/chan-sccp-b_backtrace: Add remarks before creating
	  backtrace

	* [r3797] src/pbx_impl/ast/astTrunk.c: Fix channel allocate for
	  asterisk 11 and up

2012-11-05  ddegroot

	* [r3796] src/sccp_indicate.c: Fixed 1 second delay on pickup
	  (Fixed by Marcello / Reported by Robert)

2012-11-03  ddegroot

	* [r3795] src/.indent.pro, src/conference/.indent.pro,
	  src/pbx_impl/.indent.pro, src/pbx_impl/ast/.indent.pro,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_event.c,
	  src/sccp_featureButton.c, src/sccp_features.c, src/sccp_hint.c,
	  src/sccp_indicate.c, src/sccp_line.c, src/sccp_lock.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_refcount.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_threadpool.c,
	  src/sccp_utils.c: Reindented code according to newly defined
	  rules

	* [r3794] src/chan_sccp.c, src/sccp_line.c, src/sccp_line.h: Fix
	  retain/release of hotline during module unload/load

2012-11-02  ddegroot

	* [r3793] src/.indent.pro, src/Makefile.in, src/chan_sccp.c,
	  src/conference/.indent.pro[ADD],
	  src/conference/sccp_conference10.c, src/pbx_impl/.indent.pro,
	  src/pbx_impl/ast/.indent.pro, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.c, src/sccp_actions.c,
	  src/sccp_adv_features.c, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_hint.c,
	  src/sccp_indicate.c, src/sccp_line.c, src/sccp_lock.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_refcount.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_threadpool.c,
	  src/sccp_utils.c: Updated .indent.pro to also indent case
	  statement within switch block. Reindented sources

	* [r3792] AUTHORS, ChangeLog, INSTALL, LICENSE, Makefile.am,
	  Makefile.in, NEWS, README, README.in, TODO,
	  WARNING_USE_BRANCHES_V3.0.txt, WARNING_USE_BRANCHES_V4.0.txt,
	  aclocal.m4, amdoxygen.am, autoconf/acinclude.m4,
	  autoconf/acx_pthread.m4, autoconf/asterisk.m4,
	  autoconf/check_atomics.m4, autoconf/config.guess,
	  autoconf/config.sub, autoconf/depcomp, autoconf/extra.m4,
	  autoconf/install-sh, autoconf/libtool.m4, autoconf/ltoptions.m4,
	  autoconf/ltsugar.m4, autoconf/ltversion.m4,
	  autoconf/lt~obsolete.m4, autoconf/missing, configure,
	  contrib/gen_sccpconf/Makefile.am,
	  contrib/gen_sccpconf/Makefile.in,
	  contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h, doc/01_Index.doc,
	  doc/02_What_Is_Chan_SCCP.doc,
	  doc/03_Building_and_Installation_Guide.doc,
	  doc/04_Setup_Guide.doc, doc/05_Features_V3.doc,
	  doc/06_New_Features.doc, doc/07_Frequently_Asked_Questions.doc,
	  doc/08_Supported_Operating_Systems.doc,
	  doc/09_Developers_Guide.doc, doc/10_Sources_Explained.doc,
	  doc/11_Consulted_Documentation.doc, doc/12_Licensing.doc,
	  doc/13_Reporting_Issues_Problems.doc, doc/Makefile.am,
	  doc/Makefile.in, doc/doxygen.cfg, src/Makefile.am,
	  src/Makefile.in, src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/conference/sccp_conference10.c, src/config.h.in,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_config_entries.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_dllists.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.c,
	  src/sccp_lock.h, src/sccp_management.c, src/sccp_management.h,
	  src/sccp_mwi.c, src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h: Update
	  Sources from original repository

2012-10-31  ddegroot

	* [r3791] src/sccp_channel.h, src/sccp_indicate.c, src/sccp_pbx.c:
	  Removed temporary sccp_channel_get_active_nolock,
	  sccp_channel_get_active_lock function, because they could lead to
	  confusion and memory leaks in the refcount system

	* [r3790] src/sccp_pbx.c: Found cause for channel refcount-release
	  issue, whereby channels were never fully release upon hangup
	  (->memory leak)

2012-10-29  ddegroot

	* [r3789] src/sccp_threadpool.c: Update comment on threadpool /
	  jobqueue handling

	* [r3788] src/sccp_event.c, src/sccp_softkeys.c,
	  src/sccp_threadpool.c: While trying to find why DND Feature was
	  not working correctly i found an issue in threadpool JobQueue Add
	  function. All event handling was being denied because on first
	  use of the threadpool there was no tp_p->jobqueue->head and this
	  caused a return. Issue has been fixed

2012-10-24  ddegroot

	* [r3787] src/sccp_actions.c, src/sccp_device.c: Reverted
	  sccp_actions.c XMLAlarmMessage Handler, Sorted Device by
	  MacAddress

	* [r3786] src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_dllists.h, src/sccp_line.c, src/sccp_utils.c,
	  src/sccp_utils.h: Add devices/lines to Globals in a sorted
	  fashion, makes sccp show devices / lines look a lot cleaner.

	* [r3785] conf/sccp.conf.annotated: Update annotated sccp.conf
	  sample regarding incominglimit (Bug: 3578314 / Alex Miby)

2012-10-14  ddegroot

	* [r3784] src/sccp_actions.c: Fix letohl in handle_tokenrequest
	  (Philipp Teissier)

2012-10-10  ddegroot

	* [r3783] src/sccp_threadpool.c: Checking threadpool, before adding
	  a new job

2012-10-08  ddegroot

	* [r3781] doc/04_Setup_Guide.doc: Update realtime documentation
	  (Fabian Foerster)

	* [r3780] src/sccp_features.c: Add both methods for conference line
	  selection. Including a check if it is the active_line or has a
	  status on hold

	* [r3779] doc/04_Setup_Guide.doc: Update mysql/pgsql section in
	  04_Setup_Guide.doc (Reported by Fabian Foerster)

2012-10-07  ddegroot

	* [r3778] src/sccp_features.c: Starting conference on all connected
	  channels for this line (we need to add extra rules in case of
	  shared line, otherwise we might be stealing channels)

	* [r3777] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c: Updates to
	  conference/sccp_conference10.c

	* [r3776] src/conference/sccp_conference10.c: Merge
	  sccp_conference10.c

	* [r3775] src/conference/sccp_conference10.c,
	  src/sccp_conference.h, src/sccp_features.c: Updates for
	  sccp_conference10.c

2012-10-07  marcelloceschia

	* [r3774] src/conference/sccp_conference10.c: add #if
	  SCCP_CONFERENCE_USE_IMPART == 0 for join_thread

	* [r3773] src/conference/sccp_conference10.c:

2012-10-07  ddegroot

	* [r3772] src/sccp_lock.h: Revert change in sccp_lock.h

	* [r3771] INSTALL, Makefile.in, aclocal.m4, autoconf/config.guess,
	  autoconf/config.sub, autoconf/depcomp, autoconf/extra.m4,
	  autoconf/install-sh, autoconf/missing, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in, src/pbx_impl/ast/ast106.c,
	  src/sccp_lock.h, src/sccp_refcount.c: Fixed rwlock/include issue
	  on bigendian/sparc64/asterisk issue (Reported by Philippe
	  Teissier)

2012-10-07  marcelloceschia

	* [r3769] src/conference/sccp_conference10.c:

	* [r3768] src/sccp_features.c:

	* [r3767] INSTALL, Makefile.in, aclocal.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/chan_sccp.c,
	  src/conference/sccp_conference10.c, src/sccp_features.c,
	  src/sccp_refcount.c, src/sccp_utils.c: asterisk 10 conference

2012-10-06  marcelloceschia

	* [r3765] src/sccp_utils.c: use SKINNY_CODEC_NONE

	* [r3764] src/chan_sccp.c: use SKINNY_CODEC_NONE

	* [r3763] src/conference/sccp_conference10.c, src/sccp_features.c:
	  go on with conference on ast 10

	* [r3762] src/chan_sccp.c: cleanup

	* [r3761] src/pbx_impl/ast/ast110.c: use requested codec for
	  inbound calls

	* [r3760] src/chan_sccp.c, src/sccp_channel.c: use requested codec
	  for inbound calls

2012-10-02  ddegroot

	* [r3759] src/conference/sccp_conference10.c: Make
	  sccp_conference10.c compile correctly when sources are being
	  build in a seperate folder

	* [r3758] src/chan_sccp.c: Fix temporary double release of
	  GLOB(hotline)->line

	* [r3757] src/sccp_line.c: Removed unneccessary retain/release in
	  sccp_line_clean

	* [r3756] src/chan_sccp.c: Move closing descriptor back up to
	  beginning of preUnload

	* [r3755] Makefile.in, aclocal.m4, autoconf/config.guess,
	  autoconf/config.sub, autoconf/depcomp, autoconf/install-sh,
	  autoconf/missing, configure, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in, src/config.h.in: Re-ran
	  bootstrap.sh

	* [r3754] ChangeLog: Updated ChangeLog

	* [r3753] autoconf/asterisk.m4, autoconf/extra.m4, src/chan_sccp.h:
	  Moved sizeof(long long) check from chan-sccp.h to
	  autoconf/extra.m4

	* [r3752] src/chan_sccp.c, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_line.h: Fix refcount warnings during module unload

2012-10-01  ddegroot

	* [r3751] src/sccp_socket.c: pthread_join socket session, before
	  sending pthread_kill and don't use s->session_thread =
	  AST_PTHREADT_NULL anymore.

	* [r3750] src/sccp_actions.c: Added missing device release in
	  sccp_handle_SPCPTokenReq on Cross Device Token Request

	* [r3749] src/sccp_channel.c, src/sccp_channel.h, src/sccp_pbx.c:
	  Fix forward on invalid number by checking sccp_channel_forward
	  before changing phone state

	* [r3748] src/sccp_softkeys.c: Fix answerkey crash

	* [r3747] src/chan_sccp.c: Remove extraneous logging during
	  backtrace creation

2012-09-29  marcelloceschia

	* [r3746] src/Makefile.in, src/conference/sccp_conference10.c,
	  src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_refcount.c,
	  src/sccp_refcount.h: start conference implementation for asterisk
	  10

2012-09-29  ddegroot

	* [r3745] src/sccp_hint.c: Added null/zerolength check for
	  strcasecmp in sccp_hint.c

2012-09-29  marcelloceschia

	* [r3744] Makefile.in, autoconf/config.guess, autoconf/config.sub,
	  autoconf/depcomp, autoconf/install-sh, autoconf/missing,
	  configure, src/Makefile.am, src/Makefile.in, src/conference[ADD],
	  src/conference/sccp_conference10.c[ADD]: start with conference
	  for asterisk 10

2012-09-29  ddegroot

	* [r3743] src/sccp_cli.c: Fix refcount for sccp_remote_answer
	  having possible UNREF as device

	* [r3742] src/sccp_cli.c: Extend width of sccp show lines

2012-09-16  marcelloceschia

	* [r3741] src/sccp_refcount.c: fixes compile warning

2012-09-15  ddegroot

	* [r3740] src/sccp_cli.c: Show line Label when device only has one
	  line assigned to it

	* [r3739] src/sccp_config.c: Reduce sccp.conf parse logging on
	  device registration (with debug=core)

2012-09-13  marcelloceschia

	* [r3738] src/sccp_pbx.c: fixes refcount issue within
	  sccp_pbx_hangup

	* [r3737] src/sccp_pbx.c: fixes refcount issue within
	  sccp_pbx_hangup

2012-08-28  marcelloceschia

	* [r3735] src/chan_sccp.h: fixes #include <byteswap.h> issue

	* [r3734] src/chan_sccp.h: fixes #include <byteswap.h> issue

2012-08-24  marcelloceschia

	* [r3733] src/chan_sccp.h: fixes #include <byteswap.h> issue

2012-08-12  marcelloceschia

	* [r3732] src/sccp_device.c, src/sccp_refcount.c: fixes some issues
	  with refcount

	* [r3731] src/sccp_cli.c, src/sccp_refcount.c, src/sccp_refcount.h:
	  add Diederiks hashtable version

2012-08-05  marcelloceschia

	* [r3729] src/sccp_line.c: resize buffer and use snprintf

2012-07-31  ddegroot

	* [r3728] src/sccp_lock.h, src/sccp_refcount.c: Added smaller
	  locking to refcounted objects when atomic functions are not
	  available

	* [r3725] src/chan_sccp.c: Fix segv_init issue during
	  sccp_postPBX_load

2012-07-30  ddegroot

	* [r3724] Makefile.in, contrib/gen_sccpconf/Makefile.in: Added
	  automatic installation of chan-sccp-b_backtrace script

	* [r3723] ChangeLog, Makefile.am, Makefile.in, autoconf/extra.m4,
	  configure, doc/Makefile.in, src/Makefile.in, src/chan_sccp.c,
	  tools/chan-sccp-b_backtrace[CPY], tools/gen_backtrace[DEL]: Added
	  automatic installation of chan-sccp-b_backtrace script

	* [r3722] tools/gen_backtrace: Add error message to
	  tools/gen_backtrace when gdb is not installed

	* [r3721] src/chan_sccp.c: Printout location of the backtrace file
	  after generation

	* [r3720] src/chan_sccp.c: Printout location of the backtrace file
	  after generation

	* [r3719] src/chan_sccp.c: Remove segvfault test case from sccp
	  reload

	* [r3718] src/chan_sccp.c, tools/gen_backtrace[ADD]: Added
	  automatic backtrace generation to chan_sccp.c, uses
	  tools/gen_backtrace script(need to be installed in execution PATH
	  location) and gdb to generate a complete backtrace when we
	  experience a segfault withing chan-sccp-b.

	* [r3717] src/sccp_line.c: Fixed line return in debug message

2012-07-29  ddegroot

	* [r3716] src/sccp_line.c: Correct the way sccp_lines are
	  destroyed, to prevent double sccp_release on removal from globals
	  list

	* [r3715] src/sccp_actions.c: Corrected debugcat

	* [r3714] src/chan_sccp.h: Debugcat finally working the way i want
	  it to.

	* [r3713] src/sccp_line.c: Rectified refcount identifier for
	  linedevices

	* [r3712] src/sccp_actions.c: Fixed double line retain without
	  correctly releasing before retaking in sccp_handle_keypad_button

	* [r3711] src/sccp_mwi.c: Fixed device refcount release in
	  sccp_mwi_check when on active call

	* [r3710] src/sccp_actions.c: Fixed linereturn in debug message

2012-07-27  ddegroot

	* [r3709] src/sccp_refcount.c: Printout HASH value during refcount
	  object alloc

	* [r3708] src/chan_sccp.h, src/sccp_refcount.c: Increased
	  deadobject time to 2000 ms. Revised obj->dead(boolean) to
	  obj->alive(magic number)

	* [r3707] src/sccp_hint.c: Logical cleanup of
	  sccp_hint_updateLineStateForSingleLine

	* [r3706] src/sccp_hint.c, src/sccp_refcount.c: Added obj->dead to
	  refcount system, checked while returning pointer.

	* [r3705] src/sccp_pbx.c, src/sccp_refcount.c: Added hash pointer
	  verification before returning refcounted object

2012-07-23  marcelloceschia

	* [r3704] src/sccp_utils.c: sccp_addons_clear clear head

	* [r3703] src/sccp_utils.c: fixes leak in sccp_addons_clear

2012-07-22  ddegroot

	* [r3700] doc/Makefile.am: Addding chan-sccp-b_pdf.sty to
	  EXTRA_DIST

2012-07-20  ddegroot

	* [r3698] src/sccp_refcount.c: Fix sccp_refcount CAS32 while loop

	* [r3697] src/sccp_lock.h, src/sccp_refcount.c: Cleaned up
	  sccp_refcount.c by using generalized CAS macro's (defined in
	  sccp_lock.h)

2012-07-19  ddegroot

	* [r3696] src/sccp_config.c, src/sccp_hint.c: Fixed retaining with
	  invalid line in sccp_config.c. Cleanup after marcello's hint fix.

2012-07-19  marcelloceschia

	* [r3695] src/sccp_hint.c: use AST_EVENT_DEVICE_STATE, to solve the
	  hint issue for the moment

	* [r3694] src/sccp_config.c: fixes mwi issue

2012-07-18  ddegroot

	* [r3693] autoconf/extra.m4, configure, src/config.h.in,
	  src/sccp_refcount.c: Removed configure.ac
	  --enable-experimental-refcount because it has become the basis
	  for V4.1. To extend the debugging for refcount there is a new
	  option --enable-refcount-liveobjects, which can be used by
	  developers to trace back faults in retain/release sequences, it
	  should not be necessary to use this option in normal use (keeping
	  a list of liveobjects does cost more memory and processing
	  power).

2012-07-17  ddegroot

	* [r3692] src/pbx_impl/ast/ast108.c: Fixed spurious ´\m' in
	  ast108.c

	* [r3691] configure: Flush configure changes

	* [r3690] autoconf/asterisk.m4, configure, configure.ac,
	  src/config.h.in: Fix PACKAGE_ redefined error. Shorten asterisk
	  header file detection section.

	* [r3689] autoconf/asterisk.m4, configure, configure.ac,
	  src/config.h.in: Reverted removal of PACKAGE_??? redefined 'fix'

	* [r3688] configure, src/Makefile.in, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_event.c, src/sccp_line.c,
	  src/sccp_refcount.c, src/sccp_refcount.h: Refactored
	  sccp_refcount so that we do not include a pointer to the datatype
	  and destructor in every stored object, but only once. Resulting
	  in smaller memory footprint of the refcount system

	* [r3687] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  configure.ac, src/Makefile.am, src/Makefile.in, src/config.h.in:
	  Fixed --enable-debug to negate <optimized out> when using gdb
	  (removed the leading -O2 before the -O0 entry). Also added -ggdb3
	  and -g3 to extend the amount of symbol information generated for
	  use by gdb.

	* [r3686] src/sccp_threadpool.c: Added gnu generic version to count
	  available cpu's on system.

	* [r3685] Makefile.in, aclocal.m4, autoconf/extra.m4, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in: Cleanup of configure.ac

2012-07-16  ddegroot

	* [r3684] contrib/gen_sccpconf/gen_sccpconf.c: Fix gen_sccpconf to
	  generate correct sccp.conf / sccp.xml / sccp.sql on demand

	* [r3683] src/sccp_socket.c: Suppress error (poll returned 4) when
	  shutting down module

	* [r3682] configure, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Update AST_MODULE_INFO

	* [r3681] autoconf/acinclude.m4, autoconf/extra.m4, configure,
	  configure.ac, tools/versioncheck: Using external
	  tools/versioncheck to calculate repository version instead of
	  acincluce.m4 system

	* [r3680] autoconf/acinclude.m4, configure: Corrected configure
	  repository revision number check

	* [r3679] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: Synced ast106.c, astTrunk.c and
	  ast110.c with ast108.c for module unload

	* [r3678] src/sccp_event.c: Corrected subscribtion to subscription

	* [r3677] src/Makefile.in, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/define.h: Reordered
	  module loading / unloading, to prevent memory leaks

	* [r3676] src/sccp_device.c: Update comment

	* [r3675] src/sccp_hint.c: Using retain/release of device during
	  sccp_hint_subscribe and sccp_hint_unsubscribe

	* [r3674] src/sccp_event.h: Revised sccp_event_module_stop /
	  sccp_event_unsubscribe

	* [r3673] src/chan_sccp.c, src/sccp_event.c, src/sccp_management.c,
	  src/sccp_mwi.c: Revised sccp_event_module_stop /
	  sccp_event_unsubscribe

	* [r3672] configure, src/Makefile.am, src/Makefile.in,
	  src/config.h.in: Removed objcopy from make install temporarily
	  (negative side effects on second compilation)

	* [r3671] src/chan_sccp.c, src/chan_sccp.h: Replaced messagesCbMap
	  Array Lookup by an array indexed by messageId, saving countless
	  array lookups per call.

	* [r3670] src/sccp_utils.c: Replaced isPrintableChar by isprint
	  (from ctype.h)

2012-07-15  ddegroot

	* [r3669] Makefile.in, autoconf/acinclude.m4, autoconf/config.sub,
	  autoconf/depcomp, autoconf/extra.m4, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/config.h.in, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/pbx_impl.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c,
	  src/sccp_adv_features.c, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_indicate.c, src/sccp_line.c,
	  src/sccp_lock.c, src/sccp_management.c, src/sccp_mwi.c,
	  src/sccp_pbx.c, src/sccp_protocol.c, src/sccp_refcount.c,
	  src/sccp_rtp.c, src/sccp_socket.c, src/sccp_softkeys.c,
	  src/sccp_threadpool.c, src/sccp_utils.c: Use autoconf ability to
	  compile in a builddir. #include "config.h" has been replaced by
	  #include <config.h> so that it will be searched. Added -I. to
	  CFLAGS, to search for <config.h>. Adapted autocon/acinclude.m4
	  CS_CHECK_VERSION to search in ac_dir instead of builddir for
	  svn/git/hg revision

	* [r3668] Makefile.in, aclocal.m4, autoconf/extra.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in: If /usr/lib/debug exists we add
	  our debug symbols there, before stripping

	* [r3667] debian/changelog, debian/control, debian/rules: Added
	  debian chan-sccp-b-dbg package, to contain debug symbols

	* [r3666] src/sccp_pbx.c: Prevent null pointer dereference, in
	  converyor

	* [r3665] src/sccp_cli.c: Prevent null pointer dereference

	* [r3664] src/sccp_event.c: reinstated sccp_event_unsubscribe.
	  Fixed major bug in subscribtions[i].sync traversal during
	  event_fire handling, only the first event callback would be
	  fired. i needed to substituted for n (maybe using these kinds of
	  counter variables can be counter productive at times).

	* [r3663] src/sccp_line.c: Removed list locks during line_kill and
	  line_clean, keep giving error and cannot find the reason why,
	  then again they are not very important when using safe list
	  traversal at this stage.

2012-07-14  ddegroot

	* [r3662] src/sccp_config.c: Simplify sccp_config_parse_variables
	  (including skip for templated config entries)

	* [r3661] src/sccp_event.c: Revert sccp_event_unsubscribe, using
	  free on an array might not be so smart

	* [r3660] src/pbx_impl/ast/define.h, src/sccp_dllists.h: Update
	  define.h

	* [r3659] src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/sccp_cli.c, src/sccp_management.c: Making progress with
	  asterisk-trunk. Trying to create correct ast_channel alloc

	* [r3658] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/define.h: Add
	  pbx_channel_blocker and pbx_channel_blockproc to be able to
	  compile against asterisk-trunk again

	* [r3657] src/sccp_socket.c: Reducing pbx_log to sccp_log when
	  socket connection closed

	* [r3656] src/sccp_config.c, src/sccp_device.c, src/sccp_line.c:
	  Move d->variable / l->variable destory to device / line
	  destuctors

	* [r3655] src/sccp_config.c, src/sccp_utils.c, src/sccp_utils.h:
	  Fixed memoryleak in sccp_utils.c by replacing methode in
	  sccp_config_parse_variables and removing sccp_create_variable
	  function

	* [r3654] src/chan_sccp.c, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_management.c, src/sccp_mwi.c: Fix memory leak in
	  sccp_event.h because of missing sccp_event_unsubscribe (alloc in
	  sccp_event_subscribe)

	* [r3653] src/sccp_hint.c: Fix memory leak during device unregister
	  in sccp_hint.c

	* [r3652] src/sccp_device.c, src/sccp_line.c: Cleanup d->variables
	  / l->variables during cleanup

	* [r3651] src/pbx_impl/ast/define.h, src/sccp_dllists.h,
	  src/sccp_refcount.c: Fixed list/refcount mutex_destroy issue when
	  asterisk has been compiled with DEBUG_THREADS, by using
	  ast_mutex_init_notracking for sccp_dllists.h

2012-07-13  ddegroot

	* [r3650] src/sccp_channel.c, src/sccp_rtp.c: Update RTP/UDP
	  Logging showing correct ip-address / port information (clean up
	  after several trials)

	* [r3649] src/sccp_device.c, src/sccp_socket.c: Changed session
	  addDevice / removeDevice, inversion of release and session=NULL

	* [r3648] src/sccp_channel.c, src/sccp_rtp.c, src/sccp_socket.c:
	  Update RTP/UDP Logging showing correct ip-address / port
	  information (found issue with pbx_inet_ntoa). Suppress memory
	  usage notification of thread

2012-07-13  marcelloceschia

	* [r3647] src/sccp_actions.c: remove warning

2012-07-13  ddegroot

	* [r3646] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c:
	  Update RTP/UDP Logging showing correct ip-address / port
	  information (found issue with pbx_inet_ntoa)

	* [r3645] src/sccp_rtp.c: Update sccp_channel test logging with
	  another example4

	* [r3644] src/sccp_channel.c, src/sccp_rtp.c: Update sccp_channel
	  test logging with another example3

2012-07-13  marcelloceschia

	* [r3643] Makefile.am: need isntall

2012-07-13  ddegroot

	* [r3642] src/sccp_channel.c: Update sccp_channel test logging with
	  another example

	* [r3641] doc/Makefile.in, src/Makefile.in, src/sccp_channel.c:
	  Update sccp_channel test logging with another example

	* [r3640] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_rtp.h: Updated RTP/UDP ip-addtess Logging for
	  sccp_channel_startmediatransmission,
	  sccp_handle_open_receive_channel_ack and sccp_rtp_set_phone.

	* [r3639] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h: Implemented PBX(getPeer) functions.
	  Updated logging in PBX(set_peer) function

	* [r3638] src/pbx_impl/ast/ast.c: Added ast_channel->blocked but no
	  blocker during requestHangup (wait for blocker to be present
	  before commencing softhangup)

2012-07-12  ddegroot

	* [r3636] ., ChangeLog, Makefile.in, contrib/gen_sccpconf, doc,
	  doc/Makefile.am, doc/Makefile.in, src, src/Makefile.am,
	  src/Makefile.in: Fix release system for V4.1. Update svnignore

	* [r3635] ChangeLog, Makefile.am, Makefile.in,
	  contrib/gen_sccpconf/gen_sccpconf.h, src/Makefile.in: Fix
	  gen_sccpconf to compile against changed V4.1
	  src/sccp_config_entries.h

	* [r3634] contrib/gen_sccpconf/Makefile.am,
	  contrib/gen_sccpconf/Makefile.in, src/Makefile.am,
	  src/Makefile.in: Fix make release procedures for V4.0 and trunk

2012-07-11  ddegroot

	* [r3633] src/pbx_impl/ast/ast108.c: Possible solution for current
	  audio issues

	* [r3632] src/pbx_impl/ast/ast108.c, src/sccp_rtp.c: Possible
	  solution to multihomes audio issue

	* [r3631] src/pbx_impl/ast/astTrunk.c: Fix warning during compile
	  against asterisk-trunk

2012-07-10  ddegroot

	* [r3630] src/sccp_pbx.c: fix sccp_pbx.c compilation against
	  asterisk-trunk by using indirect pbx_impl channel functions

	* [r3629] Makefile.in, autoconf/acinclude.m4, configure: Fix git
	  version check -> bootstrap

	* [r3628] ChangeLog, Makefile.am, Makefile.in,
	  autoconf/acinclude.m4, autoconf/extra.m4, configure,
	  tools/versioncheck: Updated git versioncheck to not include
	  line-returns. Update ChangeLog

	* [r3627] configure: Fix git version check -> bootstrap

	* [r3626] autoconf/acinclude.m4, tools/versioncheck: Fix git
	  version check

	* [r3625] autoconf/acinclude.m4, configure, tools/versioncheck:
	  Fixed version check for newer svn version that do not have a .svn
	  in every subdir anymore

	* [r3624] autoconf/acinclude.m4, configure,
	  tools/versioncheck[ADD]: Revised svn/git/hg revision acinclude.m4

	* [r3623] src/pbx_impl/ast/ast.c: Replaced CS_AST_HAS_TECH_PVT with
	  CS_AST_CHANNEL_PVT_CMP_TYPE and removed warning when pbx_channel
	  type != SCCP

	* [r3622] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_pbx.c: Fixed coredump caused by
	  faulty sccp_wrapper_asterisk_allocPBXChannel

	* [r3621] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_pbx.c, src/sccp_pbx.h:
	  Reverted changes in sccp_pbx_channel_allocate because of issues
	  when used by asterisk 1.8 (resolving). Updated sccp_pbx_call to
	  be called using sccp_channel_t, moved the ast_channel side of
	  things to pbx_impl

2012-07-09  ddegroot

	* [r3620] src/sccp_threadpool.c: Silence CPU_COUNT warning

	* [r3619] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h: Silence pedantic gcc

2012-07-09  marcelloceschia

	* [r3618] src/pbx_impl/ast/ast108.c: Merge failure

	* [r3617] src/pbx_impl/ast/astTrunk.c: Made all the changes
	  necessary to astTrunk.c to be able to compile against
	  asterisk-trunk again

	* [r3616] src/pbx_impl/ast/ast108.c: Added set_call_forward to
	  ast108.c

2012-07-09  ddegroot

	* [r3615] autoconf/acinclude.m4, configure: Fix bad substitution
	  error (2)

	* [r3614] Makefile.in, autoconf/acinclude.m4, configure,
	  doc/Makefile.in, src/Makefile.in: Fix bad substitution error

2012-07-08  marcelloceschia

	* [r3612] src/pbx_impl/ast/ast108.c: merge

	* [r3611] autoconf/asterisk.m4, configure, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_features.c: remove localbuild

	* [r3610] src/pbx_impl/ast/ast108.c: Fixed pbx_string_field_set

	* [r3608] autoconf/acinclude.m4, autoconf/asterisk.m4, configure:
	  Update -with-asterisk find method. Added default include file for
	  AC_CHECK_HEADER calls

	* [r3607] Makefile.in, configure, doc/Makefile.in, src/Makefile.in,
	  src/sccp_channel.c: Check if setChannelLinkedId is not NULL

	* [r3606] .gitignore, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/pbx_impl/ast/define.h, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_features.c, src/sccp_pbx.c: Changes for asterisk-trunk.
	  Moved most ast_channel get/set functions to pbx_impl.

2012-07-07  ddegroot

	* [r3605] Makefile.in, autoconf/asterisk.m4, configure: Fixed
	  missing ' in asterisk.m4

	* [r3604] autoconf/asterisk.m4, configure, src/config.h.in,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h,
	  src/pbx_impl/ast/define.h, src/pbx_impl/pbx_impl.h,
	  src/sccp_channel.c: Started working on compilation against
	  asterisk-trunk. Not finished.

2012-07-07  marcelloceschia

	* [r3603] autoconf/asterisk.m4: trunk check

	* [r3602] autoconf/asterisk.m4: trunk check

	* [r3601] Makefile.in: I need isntall ;)

2012-07-06  ddegroot

	* [r3600] src/sccp_refcount.h: First introduction of 'with_ref'
	  operator

	* [r3599] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/ast/astTrunk.h: Fixed
	  skinny_codecs2pbx_codec_pref compile warnings when using asterisk
	  1.10. Fixed ast_channel_ref / ast_channel_unref warnings during
	  compilation against asterisk 1.10

	* [r3598] src/sccp_hint.c: Corrected hint notification during
	  registering/unregistering devices

2012-07-04  ddegroot

	* [r3597] autoconf/extra.m4, configure, src/Makefile.in: Added
	  FORTIFY_SOURCE and stack-protector to compile options to find
	  bufferoverflows and stack-smashing

	* [r3596] src/sccp_device.c: Cleanup of sccp_dev_forward_status

	* [r3595] src/sccp_actions.c: Moved
	  configurationStatistic.numberOfLines++ to sccp_line_addDevice

	* [r3594] src/sccp_line.c: Added check in sccp_line_addDevice

	* [r3593] src/Makefile.am, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_line.c, src/sccp_management.c,
	  src/sccp_utils.c, src/sccp_utils.h: Renamed
	  sccp_utils_getDeviceConfiguration to sccp_linedevice_find.
	  Extended logging in sccp_linedevice_find to ease tracing

	* [r3592] src/sccp_refcount.c: data needs to be the last entry in
	  the refcount_object struct to make the encapsulation by the
	  refcount_objects as small as possible

	* [r3591] src/sccp_pbx.c: Fix autoanswer issue (retain / release of
	  linedevice and device in sccp_pbx_call_autoanswer_thread was
	  wrong

2012-07-02  ddegroot

	* [r3590] src/sccp_hint.c, src/sccp_indicate.c, src/sccp_pbx.c:
	  Tracing down autoanswer bug when dialed from dialplan_app. Small
	  fixes / cleanups and updates

2012-07-01  ddegroot

	* [r3589] src/sccp_threadpool.c: Prevent warning about unintialized
	  variable during compilation of sccp_threadpool.c

	* [r3588] src/sccp_pbx.c: Prevent crash when linedevice->device =
	  NULL during sccp_pbx_hangup

	* [r3587] src/sccp_hint.c: Reinstated event handled hint, except if
	  AST_DEVICE_UNKNOWN

	* [r3586] src/sccp_actions.c, src/sccp_hint.c: Replaced hint
	  pbx_event_new by pbx_devstate_changed function, which uses the
	  event system in the background but also forces the update
	  correctly using the ast_cond_signal. This expedites the hint
	  update a lot quicker, and solves the issue where hints are not
	  always processed on first sccp device registration. Extended a
	  number of hint logging lines to explain what is happening more
	  precisely.

2012-06-30  ddegroot

	* [r3585] doc/05_Features_V3.doc: Updated button samples in
	  documentation

	* [r3582] ChangeLog, conf/sccp.conf, doc/05_Features_V3.doc: Fix
	  button samples in documentation and sample config files

	* [r3581] src/sccp_actions.c, src/sccp_refcount.c: Revert
	  refcountval back so that compilation on openwrt works

	* [r3580] src/sccp_actions.c: Use strncpy instead of
	  sccp_copy_string to set char array to default value.

	* [r3579] src/sccp_refcount.c: Allow for large refcountval on
	  system that implement CAS64

	* [r3578] src/sccp_channel.c: Use strncpy instead of
	  sccp_copy_string to set char array to default value.

	* [r3577] src/sccp_event.c: Fix refcount_isRunning check

	* [r3576] autoconf/check_atomics.m4, configure, src/chan_sccp.h,
	  src/sccp_device.c, src/sccp_refcount.c: Make compile on openwrt
	  using new check_atomic.m4 rules

	* [r3575] src/sccp_actions.c: Fix request for speeddials during
	  registration in sccp_handle_line_number

2012-06-29  ddegroot

	* [r3574] src/sccp_threadpool.c, src/sccp_threadpool.h: Reindented
	  sccp_threadpool comments

	* [r3573] src/sccp_threadpool.c, src/sccp_threadpool.h: Revised
	  semaphore issue by mapping sem_init / sem_desttroy to equivalent
	  mac osx commands

	* [r3572] src/sccp_threadpool.c: Revised semaphore issue by mapping
	  sem_init / sem_desttroy to equivalent mac osx commands

	* [r3571] src/sccp_threadpool.c: Add removal the named semaphore
	  after module unload for Darwin / MacOSX.

	* [r3570] src/sccp_threadpool.c: Added MacOSX specific fix. MacOSX
	  does not seem to support unnamed semaphore, therefor added
	  named-semaphore for this platform. (Jucky thing is that all the
	  functions for unnamed semaphores are implemented but just return
	  -1 when called.... NICE).

	* [r3569] src/sccp_threadpool.c: Added error information when
	  sem_wait fails in sccp_threadpool_do

	* [r3568] src/sccp_socket.c: Fix module unload chan_sccp by not
	  using pthread_cancel in sccp_socket.c, just waiting until
	  session_stop does it's work.

	* [r3567] src/sccp_device.c, src/sccp_event.c, src/sccp_features.c,
	  src/sccp_indicate.c, src/sccp_line.c: retain refcounted objects
	  before calling sccp_event_fire so that the object is retained
	  over the live time of the event. Out of order execution could
	  release the object before the event has been fired, this needs to
	  be prevented.

	* [r3566] src/sccp_socket.c: Use sccp_socket_stop_sessionthread
	  from withing sccp_socket.c

	* [r3565] src/sccp_hint.c: Add checks against null-pointer
	  dereference. Skip processing hint subscriptions when module is
	  unloading.

	* [r3564] src/sccp_device.c: Malloc moo_t by message pkt_len
	  instead of maximum moo_t size

	* [r3563] src/sccp_actions.c: Use sccp_socket_stop_sessionthread to
	  replace pthread_cancel

	* [r3562] src/sccp_socket.c: Externalized
	  sccp_socket_stop_sessionthread so that chan_sccp.c preUnload can
	  use it to tear down the socket session correctly

	* [r3561] src/chan_sccp.c, src/sccp_socket.h: Externalized
	  sccp_socket_stop_sessionthread so that chan_sccp.c preUnload can
	  use it to tear down the socket session correctly

	* [r3560] src/sccp_threadpool.c: Replaced exit(0) in
	  sccp_threadpool_do by a return during sem_wait

	* [r3559] src/sccp_event.c, src/sccp_refcount.c,
	  src/sccp_refcount.h: Added sccp_refcount_isRunning function, so
	  that sccp_event can check before trying to malloc new refcounted
	  object

	* [r3558] src/chan_sccp.h, src/sccp_refcount.c: Fix cleanup loop on
	  refcount teardown

	* [r3557] src/sccp_hint.c: Check if memory returned from REQ() is
	  malloced correctly, before using r.

	* [r3556] src/sccp_threadpool.c: Fix sem_wait looking at previously
	  free-ed memory during threadpool_destroy

2012-06-28  marcelloceschia

	* [r3552] src/sccp_softkeys.c: change the way we handle speeddials

	* [r3551] src/sccp_hint.c: change the way we handle speeddials

	* [r3550] src/sccp_actions.h: change the way we handle speeddials

	* [r3549] src/sccp_actions.c: change the way we handle speeddials

	* [r3548] src/sccp_device.c, src/sccp_device.h: do not alloc a new
	  speeddial, just use the given structure

	* [r3547] src/chan_sccp.h: add valid flag to speeddial

	* [r3546] src/chan_sccp.h: add valid flag to speeddial

	* [r3545] src/sccp_channel.c, src/sccp_channel.h: make dial const

	* [r3544] src/sccp_pbx.c, src/sccp_pbx.h: make digit const

2012-06-27  ddegroot

	* [r3543] src/sccp_device.c: Fix possible double free in
	  sccp_dev_send

	* [r3542] src/chan_sccp.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_config_entries.h: Fix
	  loading/unloading module after changes for skipping sccp reload
	  when sccp.conf has not changed

	* [r3541] src/chan_sccp.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config.h: Only perform 'sccp reload' if sccp.conf has
	  changed

	* [r3540] contrib/llvm-scan-build: Suppress 'Value stored to ??? is
	  never read' when using contrib/llvm-scan-build

	* [r3539] src/sccp_channel.c, src/sccp_device.c, src/sccp_pbx.c:
	  Reduce chance of memory leak during creation of detached threads

2012-06-27  marcelloceschia

	* [r3538] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  fixes mem leak

2012-06-26  ddegroot

	* [r3537] autoconf/check_atomics.m4, configure: Fix configure
	  (line8133 unexpected fi)

	* [r3536] ChangeLog, autoconf/check_atomics.m4, configure,
	  src/sccp_device.c: Corrected AO_compare_and_swap compilation
	  issue.

	* [r3535] autoconf/check_atomics.m4, configure: Fixed configure
	  issue for check_atomic

	* [r3534] src/sccp_device.c: Added boemc implementation of compare
	  and swap for messageStack. In the boemc implementation only a
	  boolean version of CAS is available.

	* [r3533] autoconf/check_atomics.m4, configure, src/config.h.in,
	  src/sccp_refcount.c: Added general SCCP_ATOMIC definition.

	* [r3532] src/chan_sccp.h, src/sccp_device.c: Added
	  messageStackLock to use when buildin atomic functions are not
	  available.

	* [r3531] src/sccp_device.c: fix sccp_device when using
	  AO_compare_and_swap casting from int back to char pointer, using
	  uintptr_t type instead of size_t.

	* [r3530] src/sccp_device.c: fix sccp_device when using
	  AO_compare_and_swap casting from int back to char pointer.

	* [r3529] autoconf/check_atomics.m4, configure, src/sccp_device.c:
	  Partial fix sccp_device when using AO_compare_and_swap.

	* [r3528] ChangeLog, autoconf/check_atomics.m4, configure,
	  configure.ac, src/common.h, src/config.h.in, src/sccp_device.c,
	  src/sccp_refcount.c: Added atomic operations fallback to
	  libatomic_ops package available on most platforms. When compiling
	  with a compiler / cpu that does not support atomic functions (for
	  example GCC < 4.1). libatomic_ops can be found here:
	  http://www.hpl.hp.com/research/linux/atomic_ops

2012-06-25  ddegroot

	* [r3527] src/sccp_device.c: Prevent dereferencing null pointer in
	  sccp_dev_cleardisplay

	* [r3526] src/sccp_channel.c: Prevent dereferencing null pointer
	  during transfer when sccp_source_local_channel is not set.

	* [r3525] src/sccp_device.c: Prevent dereferencing null pointer
	  after calling REQ->(sccp_build_packet).

	* [r3524] src/sccp_channel.c: Prevent dereferencing null pointer
	  during transfer when sccp_source_local_channel is not set.

	* [r3523] src/sccp_pbx.c: Make manager_event parameters
	  conditional, to prevent null pointer dereference

	* [r3522] src/sccp_device.c: Check for null before dereferencing

	* [r3521] ChangeLog, INSTALL, Makefile.in, aclocal.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/chan_sccp.c, src/sccp_device.c, src/sccp_mwi.c: Check result
	  of malloc / calloc before use.

	* [r3520] src/sccp_softkeys.c: Prevent dereferencing null pointer
	  in sccp_softkeys.c

	* [r3519] src/sccp_utils.c: Prevent dereferencing null pointer in
	  sccp_utils.c

	* [r3518] src/sccp_mwi.c: Prevent dereferencing null pointer during
	  sccp_mwi_deviceAttachedEvent

	* [r3517] src/sccp_management.c: Prevent dereferencing null pointer

	* [r3516] src/sccp_config.c: Prevent dereferencing null pointer

	* [r3515] src/sccp_channel.c: Prevent memory leak in
	  sccp_channel_forward

	* [r3514] src/sccp_device.c: Prevent memory leak in
	  addMessageToStack (sccp_device.c)

	* [r3513] src/sccp_config.c: Prevent memory leaks in sccp_config.c

	* [r3512] src/sccp_threadpool.c: Release memory after failed init /
	  malloc in sccp_threadpool.c. Check tp_p before use in
	  sccp_threadpool.c

2012-06-25  marcelloceschia

	* [r3511] src/sccp_channel.c: move sccp_free(dual) for errors

2012-06-25  ddegroot

	* [r3510] src/sccp_utils.c: Free ds after usage in
	  sccp_utils.c:explode function

	* [r3509] src/Makefile.in, src/config.h.in, src/sccp_channel.c:
	  Free dual after usage. Prevent memory leak during transfer

2012-06-25  marcelloceschia

	* [r3507] src/pbx_impl/ast/ast.c: does this fix the hangup core
	  dumps?

2012-06-24  marcelloceschia

	* [r3506] src/sccp_features.c: allow cfwd for channel state offhook

	* [r3505] src/sccp_softkeys.c: check ss_action for Dial softkey

	* [r3504] src/sccp_softkeys.c: check ss_action for Dial softkey

	* [r3503] src/sccp_actions.c: fixes issue with 'Device sent a
	  Keypress, but there is no line specified! Exiting'

	* [r3502] src/sccp_actions.c: fixes issue with 'Device sent a
	  Keypress, but there is no line specified! Exiting'

	* [r3501] src/pbx_impl/ast/ast110.c: workaround to fix the audio
	  issue while calling a pared extension

	* [r3500] src/pbx_impl/ast/ast108.c: workaround to fix the audio
	  issue while calling a pared extension

2012-06-21  marcelloceschia

	* [r3498] src/sccp_refcount.c: workaround for gcc < 4.2

	* [r3497] src/sccp_pbx.c: workaround to fix warning: channel.c:4934
	  ast_write: Codec mismatch on channel SCCP/abc-00000001 setting
	  write format to slin16 from ulaw native formats 0x0 (nothing)

2012-06-19  marcelloceschia

	* [r3496] src/sccp_cli.c: fixes MeetMe number display issue
	  reported by Jacob Miles

2012-06-16  marcelloceschia

	* [r3495] src/sccp_config.c: change mwilamp config setting

2012-06-15  marcelloceschia

	* [r3494] contrib/app_sms.patch[ADD]: add app_sms.patch

	* [r3493] configure, src/chan_sccp.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/sccp_actions.c,
	  src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_pbx.c: update monitor feature

	* [r3492] src/chan_sccp.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_channel.c, src/sccp_config.c: fixes warnings

	* [r3491] src/sccp_utils.c, src/sccp_utils.h: fix warning

	* [r3490] configure, src/sccp_protocol.h, src/sccp_threadpool.c:
	  fixes indent

	* [r3489] src/sccp_socket.c: fixes 'warning: nested extern
	  declaration of 'pthread_kill'' on FreeBSD

	* [r3488] src/sccp_channel.c, src/sccp_refcount.c: warning fix

	* [r3487] configure, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h: fixes issue with asterisk 1.6

	* [r3486] src/chan_sccp.c, src/pbx_impl/ast/ast108.c,
	  src/sccp_channel.c, src/sccp_threadpool.c: fixes asterisk 1.8
	  issue on FreeBSD

	* [r3485] Makefile.in, aclocal.m4, autoconf/check_atomics.m4[ADD],
	  autoconf/config.guess, autoconf/config.sub, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in, src/sccp_device.c,
	  src/sccp_protocol.h: workaround for 'undefined symbol:
	  __sync_val_compare_and_swap_4'

2012-06-10  marcelloceschia

	* [r3482] autoconf/asterisk.m4, configure: fixes configure issue
	  using FreeBSD

2012-06-09  marcelloceschia

	* [r3479] src/sccp_management.c: fixes resume call using AMI
	  functions - reported by Jacob Miles

2012-06-08  marcelloceschia

	* [r3478] src/pbx_impl/ast/ast106.c: fixes dtmf issue reported by
	  Steven Haigh and Jacob Miles

	* [r3477] src/sccp_config.c: fixes debug level value set by
	  sccp.conf

	* [r3476] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/astTrunk.c: fixes dtmf issue reported by Steven
	  Haigh and Jacob Miles

	* [r3475] src/sccp_actions.c: fixes issue with 'Rejecting device:
	  Device Unknown' reported by Alexandre Rodrigues and Jacob Miles

2012-05-29  marcelloceschia

	* [r3473] configure, src/sccp_refcount.c[ADD],
	  src/sccp_refcount.h[ADD], src/sccp_threadpool.c[ADD],
	  src/sccp_threadpool.h[ADD]: add missing files

	* [r3471] src/sccp_indicate.c: resize buffer for incomming call
	  prompt and use safe version of sprintf

	* [r3470] .version, Makefile.am, Makefile.in, TODO, aclocal.m4,
	  autoconf/acinclude.m4, autoconf/asterisk.m4, autoconf/extra.m4,
	  conf/sqlite.sql, conf/sqlite3.sql, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/05_Features_V3.doc,
	  doc/09_Developers_Guide.doc, doc/Makefile.am, doc/Makefile.in,
	  src/.indent.pro, src/Makefile.am, src/Makefile.in,
	  src/chan_sccp.c, src/chan_sccp.h, src/common.h, src/config.h.in,
	  src/pbx_impl/.indent.pro, src/pbx_impl/ast/.indent.pro,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/astTrunk.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_config_entries.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_dllists.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.c,
	  src/sccp_lock.h, src/sccp_management.c, src/sccp_management.h,
	  src/sccp_mwi.c, src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_utils.c, src/sccp_utils.h: update
	  to Diederiks refcount version to work strait forward to stable v4

2012-05-04  ddegroot

	* [r3468] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf,
	  doc/04_Setup_Guide.doc, src/sccp_hint.c: Update Hints
	  documentation, clarifying the point that we are refering to a
	  dialplan context, and that it needs to be present, and contain
	  hinted extensions. Renamed the speeddial hint-context from hint
	  to hints, overall.

	* [r3467] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h:
	  Updated definition of ast_channel_unref in ast106.h

	* [r3466] src/pbx_impl/ast/ast106.c: Removed forward of prodding
	  during rtp_write

2012-05-03  ddegroot

	* [r3465] src/pbx_impl/ast/ast106.c: Renamed
	  sccp_asterisk_getForwardingForChannel to
	  sccp_asterisk_getForwardOriginator. Renamed
	  pbx_find_channel_by_forwarding_for to
	  pbx_find_forward_originator_channel_by_linkedid. Revised both
	  pbx_find_ functions

	* [r3464] src/pbx_impl/ast/ast106.c, src/sccp_pbx.c: Revised
	  c->parentChannel indication.

	* [r3463] src/pbx_impl/ast/ast106.c, src/sccp_pbx.c: Make
	  FORWARDING_FOR work using new LINKEDID

	* [r3462] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_channel.c, src/sccp_indicate.c,
	  src/sccp_pbx.c: Added setChannelLinkedId, renamed LINKID to
	  LINKEDID. Using new LINKEDID to during ast1.6 indication of
	  remotePeer to originator.

	* [r3461] ChangeLog, src/pbx_impl/ast/ast106.c, src/sccp_pbx.c:
	  Added CS_EXPERIMENTAL 'FORWARDER_FOR' helper flag, to handle
	  sending indication back to original caller. This way
	  hangup/busy/congestion while ringing can be notified to remote
	  end.

	* [r3460] src/chan_sccp.c, src/pbx_impl/ast/ast.c,
	  src/sccp_protocol.c: debug logging changes

2012-05-02  ddegroot

	* [r3459] src/sccp_actions.c: Corrected handle_keypad_button issue
	  when using 7912 phones

	* [r3458] src/pbx_impl/ast/ast.c: revised
	  sccp_wrapper_asterisk_forceHangup

	* [r3457] src/pbx_impl/ast/ast106.c, src/sccp_pbx.c: Fix
	  callforward when using asterisk 1.6. Missing channel unlock in
	  sccp_wrapper_asterisk16_getChannelByName.

	* [r3456] src/pbx_impl/ast/ast.c: update
	  sccp_wrapper_asterisk_requestHangup

	* [r3455] src/pbx_impl/ast/define.h, src/sccp_lock.c: Compile
	  against asterisk 1.6 with lock debugging options

2012-05-01  ddegroot

	* [r3454] src/chan_sccp.h, src/sccp_channel.c: Removed
	  sccp_rtp.isStarted (-MC-). Revised call to
	  sccp_rtp_createAudioServer in
	  sccp_channel_openreceivechannel_locked.

	* [r3453] src/sccp_channel.c: Revised openreceivechannel sligthly

	* [r3452] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Update
	  logging text in sccp_wrapper_asterisk??_create_audio_rtp

	* [r3451] src/sccp_channel.c: Fix segfault during cfwdall (Issue
	  reported by Diego Vargus)

2012-04-30  ddegroot

	* [r3450] ChangeLog, src/pbx_impl/ast/ast106.c: Ported setCallerid?
	  fixes by MC (To follow the example of setRedirectPartyId)

	* [r3448] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Ported
	  setRedirectedParty fix by MC (CallForward Issue Segfault reported
	  by Diego Vargus during)

	* [r3444] src/sccp_actions.c: Corrected debug message in
	  sccp_handle_soft_key_event

	* [r3443] src/sccp_actions.c: Added
	  sccp_channel_closereceivechannel_locked to startmediatransmission
	  if something went wrong if getting the correct channel

	* [r3442] src/sccp_actions.c: Updated sccp_handle_keypad_button
	  function, to use sccp_find_channel_on_line_byid_locked instead of
	  sccp_channel_find_byid_locked (reduces number searched channels).
	  Removed replacement of l / d when not necessary. Added debug
	  logging if channel was not found.

	* [r3441] src/sccp_pbx.c: Prevent segfault during
	  sccp_pbx_softswitch_locked when checking c->owner->pbx

	* [r3440] src/sccp_line.c: Add propper locking to
	  sccp_line_addChannel and sccp_line_removeChannel

	* [r3439] doc/04_Setup_Guide.doc: Removed trustphoneip from
	  documentation.

	* [r3438] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql, conf/mysql-v5.sql,
	  conf/postgres.sql, conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp.conf.freepbx, conf/sccp_hardware.conf.freepbx,
	  conf/sccp_templated.conf, conf/sqlite.sql, conf/sqlite3.sql,
	  src/chan_sccp.h, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_config_entries.h: Denoted config option trustphoneip as
	  deprecated. This config option is no longer in use.

2012-04-29  ddegroot

	* [r3434] src/sccp_cli.c, src/sccp_utils.c, src/sccp_utils.h:
	  Correct use of in32_t instead of uint32_t for debugcategories

2012-04-26  ddegroot

	* [r3418] ChangeLog: Update ChangeLogs

	* [r3417] WARNING_USE_BRANCHES_V4.0.txt[ADD]: Added
	  WARNING_USE_BRANCHES_V4.0 because of pending V4.1(refcount)
	  release to trunk.

2012-04-23  ddegroot

	* [r3414] src/sccp_cli.c: Fix sccp message timeout

2012-04-21  marcelloceschia

	* [r3413] src/sccp_conference.c: fixes conference compile issue

2012-04-20  marcelloceschia

	* [r3412] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_protocol.h: does this fix the hint issue?

2012-04-17  ddegroot

	* [r3410] src/sccp_actions.c: Moved status check during
	  handle_openreceive_channel_ack before looking for channel

	* [r3409] src/sccp_pbx.c: Verify existence of d during
	  sccp_pbx_hangup

	* [r3408] src/sccp_pbx.c: Verify existence of d during
	  sccp_pbx_hangup

2012-04-17  marcelloceschia

	* [r3406] src/sccp_pbx.c: fixes hangup issue

2012-04-15  ddegroot

	* [r3405] ChangeLog: Updated ChangeLog

	* [r3404] src/chan_sccp.c, src/sccp_socket.c: Set lastkeepalive at
	  beginning and end of handle_message. Use keepaliveextratime as a
	  percentage. Re-check lastKeepalive before disconnecting session

	* [r3402] src/sccp_socket.c: Switching of non-blocking more in
	  sccp_socket when using experimental-mode. There is no need to use
	  non-blocking mode when running one thread per session.

	* [r3401] src/sccp_pbx.c: Gaining a little more information when we
	  can't find the line connected to an incoming call

2012-04-15  marcelloceschia

	* [r3398] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf: do not
	  enable tzoffset in sample configs

2012-04-14  ddegroot

	* [r3396] src/sccp_socket.c: Backoff a little longer when 'resource
	  temp unavailable' occurs during send

	* [r3395] ChangeLog, src/sccp_socket.c: Fix sccp_session_send
	  continue

	* [r3393] src/sccp_channel.c: Extended logging during transfer
	  completion to find out when we get 'Failed to complete transfer.
	  The channel is not ringing or connected'

	* [r3392] src/sccp_utils.c: Extended logging in
	  sccp_channel_find_on_device_bypassthrupartyid_locked.

	* [r3391] src/sccp_channel.c: Reduced ERROR level to standard
	  sccp_log for 'can't put on hold inactive channel'

	* [r3390] src/sccp_socket.c: Simplyfied sccp_socket_device_thread.
	  No need to reduce the pollTimeout window, preventing the window
	  to become to small. Rewrite sccp_session_send2 method to take
	  into account EINTR/EAGAIN, but folding when a real write error
	  occurs.

	* [r3388] src/sccp_socket.c: Removed recalculation of pollTimeout
	  based on previous message handling. We do not need reduce the
	  pollTimeout window based on a previously handled message.

	* [r3387] src/sccp_pbx.c: Removed extras {

	* [r3386] src/sccp_actions.c, src/sccp_pbx.c: Fixes re-registration
	  issue when phone still has an open channel, but misses timeout. A
	  context switch on a heavily loaded machine and a very low
	  keep-alive time, leads to missing keepalive windows whilst
	  handling a message when a context switch happens.

	* [r3385] src/sccp_channel.c: Handle transfer savely when
	  new_channel does not return a new channel as expected

	* [r3382] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/astTrunk.c: Fix bad
	  magic number on hangup (Reported by Diego/Philippe)

2012-04-13  ddegroot

	* [r3381] src/sccp_actions.c: Set devicetype during
	  sccp_handle_tokenReq, so that they are displayed nicely in sccp
	  show sessions

2012-04-12  ddegroot

	* [r3377] src/chan_sccp.h, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_softkeys.c:
	  Reinstated marcello's transfer patch, to negate the issue with
	  shifting focus during transfer

2012-04-11  marcelloceschia

	* [r3365] src/chan_sccp.h, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_softkeys.c: revert
	  changes in 3364

